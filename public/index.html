<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Application Portal - Elmwood & Company</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            /* Refined Color Palette */
            --primary: #0d2847;
            --primary-dark: #081a2e;
            --primary-light: #1a3d5c;
            --primary-lighter: #2a5d7a;
            --primary-gradient: linear-gradient(135deg, #0d2847 0%, #1a3d5c 50%, #2a5d7a 100%);
            --primary-gradient-hover: linear-gradient(135deg, #081a2e 0%, #0d2847 50%, #1a3d5c 100%);
            --accent: #1e40af;
            --accent-light: #3b82f6;
            --text-primary: #0a1629;
            --text-secondary: #334155;
            --text-light: #64748b;
            --text-muted: #94a3b8;
            --border: #cbd5e1;
            --border-light: #e2e8f0;
            --border-subtle: #f1f5f9;
            --bg-light: #f8fafc;
            --bg-white: #ffffff;
            --bg-elevated: #ffffff;
            --bg-overlay: rgba(255, 255, 255, 0.8);
            --success: #059669;
            --success-light: #d1fae5;
            --error: #dc2626;
            --error-light: #fee2e2;
            --info: #0284c7;
            --info-light: #e0f2fe;
            --warning: #d97706;
            --warning-light: #fef3c7;
            
            /* Sophisticated Shadows */
            --shadow-xs: 0 1px 2px 0 rgba(0, 0, 0, 0.03);
            --shadow-sm: 0 1px 3px 0 rgba(0, 0, 0, 0.06), 0 1px 2px -1px rgba(0, 0, 0, 0.04);
            --shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.08), 0 2px 4px -2px rgba(0, 0, 0, 0.04);
            --shadow-md: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -4px rgba(0, 0, 0, 0.05);
            --shadow-lg: 0 20px 25px -5px rgba(0, 0, 0, 0.12), 0 8px 10px -6px rgba(0, 0, 0, 0.06);
            --shadow-xl: 0 25px 50px -12px rgba(0, 0, 0, 0.15);
            --shadow-2xl: 0 30px 60px -12px rgba(0, 0, 0, 0.18);
            --shadow-colored: 0 10px 15px -3px rgba(13, 40, 71, 0.12), 0 4px 6px -4px rgba(13, 40, 71, 0.08);
            --shadow-colored-lg: 0 20px 25px -5px rgba(13, 40, 71, 0.15), 0 8px 10px -6px rgba(13, 40, 71, 0.1);
            
            /* Spacing Scale */
            --space-xs: 4px;
            --space-sm: 8px;
            --space-md: 16px;
            --space-lg: 24px;
            --space-xl: 32px;
            --space-2xl: 48px;
            --space-3xl: 64px;
        }

        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap');
        
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background: 
                radial-gradient(circle at 20% 30%, rgba(13, 40, 71, 0.03) 0%, transparent 50%),
                radial-gradient(circle at 80% 70%, rgba(26, 61, 92, 0.02) 0%, transparent 50%),
                linear-gradient(180deg, #fafbfc 0%, #f1f5f9 50%, #e8edf3 100%);
            background-attachment: fixed;
            color: var(--text-primary);
            line-height: 1.65;
            font-size: 15px;
            font-weight: 400;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            text-rendering: optimizeLegibility;
            letter-spacing: -0.011em;
            font-feature-settings: 'kern' 1, 'liga' 1, 'calt' 1;
        }

        .application-wrapper {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            animation: fadeInPage 0.6s cubic-bezier(0.4, 0, 0.2, 1);
        }

        @keyframes fadeInPage {
            from {
                opacity: 0;
            }
            to {
                opacity: 1;
            }
        }

        /* Progress Bar */
        .progress-container {
            position: sticky;
            top: 0;
            z-index: 100;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px) saturate(180%);
            -webkit-backdrop-filter: blur(20px) saturate(180%);
            border-bottom: 1px solid var(--border-subtle);
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.04);
        }

        .progress-bar {
            height: 3px;
            background: var(--border-subtle);
            position: relative;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--primary) 0%, var(--primary-light) 50%, var(--primary-lighter) 100%);
            transition: width 0.5s cubic-bezier(0.4, 0, 0.2, 1);
            width: 0%;
            box-shadow: 0 0 20px rgba(13, 40, 71, 0.4);
            position: relative;
            overflow: hidden;
        }

        .progress-fill::after {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            animation: shimmer 2s infinite;
        }

        @keyframes shimmer {
            0% { left: -100%; }
            100% { left: 100%; }
        }

        .progress-info {
            max-width: 1200px;
            margin: 0 auto;
            padding: 18px 40px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .progress-text {
            font-size: 13px;
            color: var(--text-secondary);
            font-weight: 500;
            letter-spacing: 0.01em;
            text-transform: uppercase;
            font-size: 11px;
        }

        .progress-percentage {
            font-size: 15px;
            font-weight: 700;
            color: var(--primary);
            letter-spacing: -0.02em;
        }

        /* Header */
        .header {
            background: var(--primary-gradient);
            color: white;
            padding: 0;
            position: relative;
            border-bottom: 1px solid rgba(255, 255, 255, 0.08);
            box-shadow: 
                0 20px 60px rgba(13, 40, 71, 0.3),
                0 0 0 1px rgba(255, 255, 255, 0.1) inset;
            overflow: hidden;
        }

        .header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: 
                radial-gradient(circle at 20% 50%, rgba(255, 255, 255, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 80%, rgba(255, 255, 255, 0.08) 0%, transparent 50%);
            pointer-events: none;
        }

        .header::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 1px;
            background: linear-gradient(90deg, transparent 0%, rgba(255, 255, 255, 0.2) 50%, transparent 100%);
        }

        .header-content {
            max-width: 1200px;
            margin: 0 auto;
            padding: 80px 40px 60px;
            position: relative;
            z-index: 1;
        }

        .header h1 {
            font-size: 48px;
            font-weight: 700;
            margin-bottom: 16px;
            letter-spacing: -1.2px;
            line-height: 1.1;
            text-shadow: 0 2px 12px rgba(0, 0, 0, 0.2);
            font-feature-settings: 'kern' 1, 'liga' 1, 'calt' 1;
        }

        .header p {
            font-size: 18px;
            opacity: 0.96;
            font-weight: 400;
            letter-spacing: -0.2px;
            line-height: 1.6;
            text-shadow: 0 1px 4px rgba(0, 0, 0, 0.12);
            max-width: 700px;
        }

        /* Main Container */
        .main-container {
            flex: 1;
            max-width: 1200px;
            margin: -60px auto 80px;
            padding: 0 40px;
            position: relative;
            z-index: 2;
        }

        /* Smooth scrolling */
        html {
            scroll-behavior: smooth;
            -webkit-text-size-adjust: 100%;
        }

        /* Section visibility animations - handled below */


        /* Navigation Sidebar - Premium Glassmorphism */
        .nav-sidebar {
            position: sticky;
            top: 80px;
            align-self: start;
            background: rgba(255, 255, 255, 0.85);
            border: 1px solid rgba(255, 255, 255, 0.6);
            border-radius: 16px;
            padding: 24px;
            margin-bottom: 32px;
            box-shadow: 
                0 8px 32px rgba(0, 0, 0, 0.08),
                0 0 0 1px rgba(255, 255, 255, 0.5) inset;
            backdrop-filter: blur(20px) saturate(180%);
            -webkit-backdrop-filter: blur(20px) saturate(180%);
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .nav-sidebar:hover {
            box-shadow: 
                0 12px 48px rgba(0, 0, 0, 0.12),
                0 0 0 1px rgba(255, 255, 255, 0.6) inset;
            transform: translateY(-2px);
            background: rgba(255, 255, 255, 0.9);
        }

        .nav-sidebar h3 {
            font-size: 14px;
            font-weight: 600;
            color: var(--primary);
            text-transform: uppercase;
            letter-spacing: 0.8px;
            margin-bottom: 16px;
        }

        .nav-list {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .nav-item {
            margin-bottom: 8px;
        }

        .nav-link {
            display: flex;
            align-items: center;
            padding: 10px 12px;
            color: var(--text-secondary);
            text-decoration: none;
            border-radius: 6px;
            font-size: 14px;
            transition: all 0.3s ease;
            cursor: pointer;
            border-left: 3px solid transparent;
            position: relative;
        }

        .nav-link::before {
            content: '';
            position: absolute;
            left: 0;
            top: 50%;
            transform: translateY(-50%);
            width: 3px;
            height: 0;
            background: var(--primary);
            transition: height 0.3s ease;
        }

        .nav-link:hover {
            background: var(--bg-light);
            color: var(--primary);
            padding-left: 15px;
        }

        .nav-link:hover::before {
            height: 60%;
        }

        .nav-link.active {
            background: rgba(26, 61, 92, 0.08);
            color: var(--primary);
            font-weight: 500;
            border-left: 3px solid var(--primary);
            padding-left: 9px;
        }

        .nav-link.completed::before {
            content: '✓';
            margin-right: 8px;
            color: var(--success);
            font-weight: 600;
        }

        .nav-link.completed.active::before {
            color: var(--primary);
        }

        /* Layout */
        .content-layout {
            display: grid;
            grid-template-columns: 240px 1fr;
            gap: 32px;
            align-items: start;
        }

        /* Position Card - Premium Glassmorphism */
        .position-card {
            background: rgba(255, 255, 255, 0.7);
            backdrop-filter: blur(20px) saturate(180%);
            -webkit-backdrop-filter: blur(20px) saturate(180%);
            border: 1px solid rgba(255, 255, 255, 0.6);
            border-radius: 20px;
            box-shadow: 
                0 12px 40px rgba(0, 0, 0, 0.08),
                0 0 0 1px rgba(255, 255, 255, 0.5) inset;
            margin-bottom: 24px;
            overflow: hidden;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
        }

        .position-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 2px;
            background: var(--primary-gradient);
            opacity: 0;
            transition: opacity 0.4s ease;
        }

        .position-card:hover {
            transform: translateY(-4px);
            box-shadow: 
                0 16px 56px rgba(0, 0, 0, 0.12),
                0 0 0 1px rgba(255, 255, 255, 0.7) inset;
            background: rgba(255, 255, 255, 0.85);
        }

        .position-card:hover::before {
            opacity: 1;
        }

        .position-card-header {
            background: linear-gradient(135deg, var(--bg-white) 0%, rgba(248, 250, 252, 1) 100%);
            padding: 40px 48px;
            border-bottom: 1px solid var(--border-light);
        }

        .position-card-header h2 {
            font-size: 28px;
            font-weight: 700;
            background: var(--primary-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 10px;
            letter-spacing: -0.5px;
        }

        .position-card-header p {
            color: var(--text-secondary);
            font-size: 15px;
            line-height: 1.7;
            margin: 0;
            font-weight: 400;
        }

        .company-details {
            padding: 32px 40px;
            border-top: 1px solid var(--border);
        }

        .company-section {
            margin-bottom: 32px;
        }

        .company-section:last-child {
            margin-bottom: 0;
        }

        .company-section h3 {
            font-size: 18px;
            font-weight: 600;
            color: var(--primary);
            margin-bottom: 12px;
            letter-spacing: -0.2px;
        }

        .company-section p {
            color: var(--text-secondary);
            line-height: 1.7;
            font-size: 15px;
            margin-bottom: 16px;
        }

        .company-section ul {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .company-section li {
            padding: 8px 0 8px 24px;
            position: relative;
            color: var(--text-secondary);
            line-height: 1.7;
            font-size: 15px;
        }

        .company-section li::before {
            content: '';
            position: absolute;
            left: 8px;
            top: 14px;
            width: 6px;
            height: 6px;
            background: var(--primary);
            border-radius: 50%;
        }

        .job-description {
            padding: 32px 40px;
        }

        .job-section {
            margin-bottom: 32px;
        }

        .job-section:last-child {
            margin-bottom: 0;
        }

        .job-section h3 {
            font-size: 13px;
            font-weight: 600;
            color: var(--primary);
            margin-bottom: 16px;
            text-transform: uppercase;
            letter-spacing: 0.8px;
        }

        .job-section ul {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .job-section li {
            padding: 8px 0 8px 24px;
            position: relative;
            color: var(--text-secondary);
            line-height: 1.7;
            font-size: 15px;
        }

        .job-section li::before {
            content: '';
            position: absolute;
            left: 8px;
            top: 14px;
            width: 6px;
            height: 6px;
            background: var(--primary);
            border-radius: 50%;
        }

        .job-note {
            margin-top: 32px;
            padding: 18px 24px;
            background: #f8f9fa;
            border-left: 3px solid var(--primary);
            border-radius: 4px;
        }

        .job-note p {
            margin: 0;
            color: var(--text-primary);
            line-height: 1.7;
            font-size: 14px;
        }

        .job-note strong {
            color: var(--primary);
            font-weight: 600;
        }

        /* Form Card - Premium Glassmorphism */
        .form-card {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.08), 0 0 0 1px rgba(255, 255, 255, 0.5) inset;
            border: 1px solid rgba(255, 255, 255, 0.8);
            overflow: hidden;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            backdrop-filter: blur(20px) saturate(180%);
            -webkit-backdrop-filter: blur(20px) saturate(180%);
            position: relative;
        }

        .form-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 1px;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.8), transparent);
            opacity: 0.6;
        }

        .form-card:hover {
            box-shadow: 0 24px 80px rgba(0, 0, 0, 0.12), 0 0 0 1px rgba(255, 255, 255, 0.6) inset;
            transform: translateY(-2px);
            border-color: rgba(255, 255, 255, 0.9);
        }

        .form-content {
            padding: 56px 60px;
            position: relative;
        }

        /* Section Dividers */
        .section-divider {
            height: 1px;
            background: linear-gradient(90deg, transparent, var(--border), transparent);
            margin: 60px 0;
            border: none;
        }

        /* Form Sections */
        .form-section {
            margin-bottom: 56px;
            scroll-margin-top: 100px;
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.5s cubic-bezier(0.4, 0, 0.2, 1), transform 0.5s cubic-bezier(0.4, 0, 0.2, 1);
            padding: 36px 0;
            position: relative;
        }

        .form-section:last-of-type {
            margin-bottom: 0;
        }

        .form-section.visible {
            opacity: 1;
            transform: translateY(0);
        }

        .section-header {
            display: flex;
            align-items: center;
            gap: 20px;
            margin-bottom: 32px;
            padding-bottom: 24px;
            border-bottom: 1px solid var(--border-light);
            position: relative;
        }

        .section-header::after {
            content: '';
            position: absolute;
            bottom: -2px;
            left: 0;
            width: 60px;
            height: 2px;
            background: var(--primary-gradient);
            border-radius: 2px;
            transition: width 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .form-section:hover .section-header::after {
            width: 100px;
        }

        .section-number {
            background: var(--primary-gradient);
            color: white;
            width: 52px;
            height: 52px;
            border-radius: 14px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 22px;
            flex-shrink: 0;
            box-shadow: 
                0 8px 20px rgba(13, 40, 71, 0.3),
                0 0 0 1px rgba(255, 255, 255, 0.2) inset,
                0 2px 4px rgba(0, 0, 0, 0.1) inset;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            letter-spacing: -0.5px;
            position: relative;
            overflow: hidden;
        }

        .section-number::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transform: rotate(45deg);
            transition: all 0.6s ease;
        }

        .form-section:hover .section-number::before {
            top: 50%;
            left: 50%;
        }

        .form-section:hover .section-number {
            transform: scale(1.05);
            box-shadow: var(--shadow-md);
        }

        .section-title {
            color: var(--text-primary);
            font-size: 26px;
            font-weight: 700;
            margin: 0;
            letter-spacing: -0.6px;
            line-height: 1.25;
        }

        /* Form Grid */
        .form-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 28px;
            animation: fadeIn 0.5s cubic-bezier(0.4, 0, 0.2, 1);
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
            }
            to {
                opacity: 1;
            }
        }

        .form-group {
            display: flex;
            flex-direction: column;
            margin-bottom: 0;
            position: relative;
        }

        .form-group:focus-within label {
            color: var(--primary);
        }

        .form-group.full-width {
            grid-column: 1 / -1;
        }

        label {
            font-size: 14px;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 14px;
            display: flex;
            align-items: center;
            gap: 6px;
            letter-spacing: -0.12px;
            line-height: 1.5;
        }

        .required {
            color: var(--error);
            font-weight: 700;
            margin-left: 2px;
        }

        .field-help-text {
            font-size: 13px;
            color: var(--text-light);
            line-height: 1.6;
            margin-bottom: 12px;
        }

        .char-counter {
            font-size: 12px;
            color: var(--text-light);
            text-align: right;
            margin-top: 4px;
            font-weight: 500;
            transition: color 0.2s ease;
        }

        .char-counter.warning {
            color: var(--warning);
        }

        .char-counter.error {
            color: var(--error);
        }

        .message.info {
            background: var(--info-light);
            border-color: var(--info);
            color: var(--info);
        }

        .spinner {
            display: inline-block;
            width: 14px;
            height: 14px;
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-top-color: white;
            border-radius: 50%;
            animation: spin 0.6s linear infinite;
            margin-right: 8px;
            vertical-align: middle;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        input[type="text"],
        input[type="email"],
        input[type="tel"],
        input[type="date"],
        input[type="number"],
        select,
        textarea {
            width: 100%;
            padding: 16px 20px;
            border: 1.5px solid var(--border);
            border-radius: 12px;
            font-size: 15px;
            font-family: inherit;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            background: rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(10px);
            color: var(--text-primary);
            font-weight: 400;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.04), 0 0 0 0 rgba(13, 40, 71, 0);
            letter-spacing: -0.01em;
            position: relative;
        }

        input:hover,
        select:hover,
        textarea:hover {
            border-color: var(--border-light);
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.04);
        }

        input:focus,
        select:focus,
        textarea:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 
                0 0 0 4px rgba(13, 40, 71, 0.1),
                0 4px 20px rgba(13, 40, 71, 0.12),
                0 0 0 1px rgba(255, 255, 255, 0.5) inset;
            transform: translateY(-2px);
            background: rgba(255, 255, 255, 0.95);
        }

        input:hover:not(:disabled),
        select:hover:not(:disabled),
        textarea:hover:not(:disabled) {
            border-color: #cbd5e0;
        }

        input.error,
        select.error,
        textarea.error {
            border-color: var(--error);
            box-shadow: 
                0 0 0 4px rgba(239, 68, 68, 0.1),
                0 4px 12px rgba(239, 68, 68, 0.15);
            animation: shake 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-8px); }
            75% { transform: translateX(8px); }
        }

        input.error:focus,
        select.error:focus,
        textarea.error:focus {
            border-color: var(--error);
            box-shadow: 
                0 0 0 4px rgba(239, 68, 68, 0.15),
                0 4px 16px rgba(239, 68, 68, 0.2);
        }

        .error-message {
            font-size: 13px;
            color: var(--error);
            margin-top: 8px;
            display: none;
            font-weight: 500;
            line-height: 1.5;
            padding: 10px 14px;
            background: rgba(239, 68, 68, 0.08);
            border-left: 3px solid var(--error);
            border-radius: 6px;
            animation: slideInError 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        @keyframes slideInError {
            from {
                opacity: 0;
                transform: translateX(-10px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        .error-message.show {
            display: block;
        }

        textarea {
            resize: vertical;
            min-height: 130px;
            line-height: 1.7;
        }

        /* File Upload */
        .file-upload-wrapper {
            position: relative;
        }

        .file-upload {
            position: relative;
            display: block;
            width: 100%;
        }

        .file-upload input[type="file"] {
            position: absolute;
            opacity: 0;
            width: 100%;
            height: 100%;
            cursor: pointer;
            z-index: 2;
        }

        .file-upload-label {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 40px 30px;
            border: 2px dashed var(--border);
            border-radius: 14px;
            background: linear-gradient(135deg, rgba(248, 250, 252, 0.8) 0%, rgba(255, 255, 255, 0.9) 100%);
            backdrop-filter: blur(10px);
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            text-align: center;
            box-shadow: 
                0 4px 12px rgba(0, 0, 0, 0.04),
                0 0 0 1px rgba(255, 255, 255, 0.5) inset;
            position: relative;
            overflow: hidden;
        }

        .file-upload-label::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(13, 40, 71, 0.05), transparent);
            transition: left 0.5s ease;
        }

        .file-upload-label:hover::before {
            left: 100%;
        }

        .file-upload-label:hover {
            background: linear-gradient(135deg, rgba(26, 61, 92, 0.02) 0%, rgba(26, 61, 92, 0.05) 100%);
            border-color: var(--primary);
            border-style: solid;
            transform: translateY(-2px);
            box-shadow: var(--shadow-md);
        }

        .file-upload-text {
            font-size: 15px;
            font-weight: 500;
            color: var(--text-primary);
            margin-bottom: 6px;
        }

        .file-upload-hint {
            font-size: 13px;
            color: var(--text-light);
            line-height: 1.5;
        }

        .file-selected {
            padding: 12px 16px;
            background: #f8f9fa;
            border: 1px solid var(--border);
            border-radius: 6px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-top: 12px;
        }

        .file-selected-name {
            font-size: 14px;
            color: var(--text-primary);
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .file-selected-name::before {
            content: '✓';
            background: var(--success);
            color: white;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            font-weight: 700;
        }

        .file-selected-remove {
            background: none;
            border: none;
            color: var(--error);
            cursor: pointer;
            font-size: 20px;
            padding: 0;
            width: 28px;
            height: 28px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 6px;
            transition: all 0.2s;
        }

        .file-selected-remove:hover {
            background: rgba(239, 68, 68, 0.1);
        }

        .portfolio-files {
            margin-top: 12px;
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .portfolio-file-item {
            padding: 10px 14px;
            background: #f8f9fa;
            border: 1px solid var(--border);
            border-radius: 6px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            font-size: 14px;
        }

        .portfolio-file-name {
            color: var(--text-primary);
            font-weight: 500;
        }

        .portfolio-file-remove {
            background: none;
            border: none;
            color: var(--error);
            cursor: pointer;
            font-size: 18px;
            padding: 0;
            width: 24px;
            height: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 4px;
            transition: all 0.2s;
        }

        .portfolio-file-remove:hover {
            background: rgba(239, 68, 68, 0.1);
        }

        .video-instructions {
            background: #f8f9fa;
            border: 1px solid var(--border);
            border-radius: 6px;
            padding: 20px;
            margin-bottom: 16px;
        }

        .video-instructions h4 {
            font-size: 15px;
            font-weight: 600;
            color: var(--primary);
            margin-bottom: 12px;
        }

        .video-instructions ul {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .video-instructions li {
            padding: 6px 0 6px 20px;
            position: relative;
            color: var(--text-secondary);
            line-height: 1.6;
            font-size: 14px;
        }

        .video-instructions li::before {
            content: '•';
            position: absolute;
            left: 8px;
            color: var(--primary);
            font-weight: 700;
        }

        .video-instructions strong {
            color: var(--text-primary);
            font-weight: 600;
        }

        /* Video Recording Container */
        .video-recording-container {
            margin-top: 20px;
        }

        .video-recording-options {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
            margin-bottom: 24px;
        }

        .video-option-btn {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            padding: 16px 24px;
            border: 2px solid var(--border);
            border-radius: 12px;
            background: var(--bg-white);
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            font-size: 15px;
            font-weight: 600;
            color: var(--text-primary);
            font-family: inherit;
        }

        .video-option-btn:hover {
            border-color: var(--primary);
            background: rgba(26, 61, 92, 0.03);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
        }

        .video-option-btn.active {
            border-color: var(--primary);
            background: var(--primary-gradient);
            color: white;
            box-shadow: 0 4px 12px rgba(26, 61, 92, 0.2);
        }

        .video-option-icon {
            font-size: 18px;
            font-weight: 700;
            line-height: 1;
        }

        .video-option-text {
            font-weight: 600;
        }

        /* Video Preview Container */
        .video-preview-container {
            margin-top: 20px;
            animation: fadeIn 0.3s ease;
        }

        .video-preview-wrapper {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin: 0 auto 24px;
            border-radius: 12px;
            overflow: hidden;
            background: #000;
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.15);
        }

        .video-preview {
            width: 100%;
            display: block;
            border-radius: 12px;
        }

        .video-overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.7);
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 12px;
            z-index: 10;
        }

        .video-loading {
            text-align: center;
            color: white;
        }

        .video-loading p {
            margin-top: 16px;
            font-size: 15px;
            font-weight: 500;
        }

        .spinner-large {
            width: 40px;
            height: 40px;
            border: 3px solid rgba(255, 255, 255, 0.3);
            border-top-color: white;
            border-radius: 50%;
            animation: spin 0.8s linear infinite;
            margin: 0 auto;
        }

        /* Recording Controls */
        .recording-controls {
            display: flex;
            flex-direction: column;
            gap: 16px;
        }

        .recording-controls-primary {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 16px;
            flex-wrap: wrap;
        }

        .recording-controls-secondary {
            display: flex;
            gap: 12px;
            justify-content: center;
            flex-wrap: wrap;
        }

        .btn-record {
            min-width: 180px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            padding: 14px 28px;
            font-size: 15px;
            font-weight: 600;
            border-radius: 12px;
            border: none;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        .btn-record:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(0, 0, 0, 0.15);
        }

        .btn-record:active {
            transform: translateY(0);
        }

        .btn-primary {
            background: var(--primary-gradient);
            color: white;
        }

        .btn-primary:hover {
            background: var(--primary-gradient-hover);
        }

        .btn-danger {
            background: linear-gradient(135deg, #dc2626 0%, #b91c1c 100%);
            color: white;
        }

        .btn-danger:hover {
            background: linear-gradient(135deg, #b91c1c 0%, #991b1b 100%);
        }

        .btn-danger.recording {
            animation: pulse-red 1.5s ease-in-out infinite;
        }

        @keyframes pulse-red {
            0%, 100% {
                box-shadow: 0 4px 12px rgba(220, 38, 38, 0.3);
            }
            50% {
                box-shadow: 0 4px 20px rgba(220, 38, 38, 0.5);
            }
        }

        .btn-success {
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
            color: white;
        }

        .btn-success:hover {
            background: linear-gradient(135deg, #059669 0%, #047857 100%);
        }

        .btn-secondary {
            background: var(--bg-white);
            color: var(--text-primary);
            border: 2px solid var(--border);
        }

        .btn-secondary:hover {
            background: var(--bg-light);
            border-color: var(--primary);
        }

        .btn-icon {
            font-size: 16px;
            font-weight: 700;
            line-height: 1;
        }

        .recording-timer-wrapper {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px 20px;
            background: rgba(220, 38, 38, 0.1);
            border-radius: 10px;
            border: 1px solid rgba(220, 38, 38, 0.2);
        }

        .recording-indicator {
            width: 12px;
            height: 12px;
            background: #dc2626;
            border-radius: 50%;
            animation: pulse-dot 1.5s ease-in-out infinite;
        }

        @keyframes pulse-dot {
            0%, 100% {
                opacity: 1;
                transform: scale(1);
            }
            50% {
                opacity: 0.7;
                transform: scale(1.2);
            }
        }

        .recording-timer {
            font-size: 18px;
            font-weight: 700;
            color: #dc2626;
            font-variant-numeric: tabular-nums;
            letter-spacing: 1px;
        }

        .recording-status {
            padding: 14px 20px;
            border-radius: 10px;
            font-size: 14px;
            font-weight: 500;
            margin-top: 16px;
            animation: fadeIn 0.3s ease;
        }

        .recording-status.recording {
            background: #fee2e2;
            color: #991b1b;
            border: 1px solid #fecaca;
        }

        .recording-status.stopped {
            background: #d1fae5;
            color: #065f46;
            border: 1px solid #a7f3d0;
        }

        .recording-status.error {
            background: #fee2e2;
            color: #991b1b;
            border: 1px solid #fecaca;
        }

        .video-instructions > div {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 24px;
            margin-top: 16px;
        }

        .video-instructions > div > div ul {
            margin-top: 8px;
        }

        .video-instructions > div > div ul li {
            padding: 4px 0 4px 20px;
            font-size: 13px;
        }

        /* Fit Assessment - Radio Cards */
        .fit-question {
            margin-bottom: 24px;
        }

        .fit-question-label {
            display: block;
            font-size: 15px;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 16px;
        }

        .radio-cards {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 16px;
        }

        .radio-card {
            position: relative;
            cursor: pointer;
            display: block;
            border: 2px solid var(--border-light);
            border-radius: 12px;
            padding: 20px;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            background: var(--bg-white);
            box-shadow: var(--shadow-xs);
        }

        .radio-card:hover {
            border-color: var(--primary);
            background: linear-gradient(135deg, rgba(26, 61, 92, 0.04) 0%, rgba(26, 61, 92, 0.08) 100%);
            transform: translateY(-4px) scale(1.02);
            box-shadow: 
                0 12px 32px rgba(13, 40, 71, 0.15),
                0 0 0 1px rgba(13, 40, 71, 0.1) inset;
        }

        .radio-card input[type="radio"]:checked ~ .radio-card-content {
            color: var(--primary);
        }

        .radio-card:has(input[type="radio"]:checked) {
            border-color: var(--primary);
            background: linear-gradient(135deg, rgba(26, 61, 92, 0.08) 0%, rgba(26, 61, 92, 0.12) 100%);
            box-shadow: 
                0 8px 24px rgba(13, 40, 71, 0.2),
                0 0 0 2px rgba(13, 40, 71, 0.1) inset;
            transform: translateY(-2px);
        }

        .radio-card input[type="radio"] {
            position: absolute;
            opacity: 0;
            width: 0;
            height: 0;
        }

        .radio-card-content {
            padding: 20px;
            border: 2px solid var(--border-light);
            border-radius: 12px;
            background: var(--bg-white);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            height: 100%;
            display: flex;
            flex-direction: column;
            box-shadow: var(--shadow-xs);
        }

        .radio-card:hover .radio-card-content {
            border-color: var(--primary);
            background: linear-gradient(135deg, rgba(26, 61, 92, 0.04) 0%, rgba(26, 61, 92, 0.08) 100%);
            transform: translateY(-4px) scale(1.02);
            box-shadow: 
                0 12px 32px rgba(13, 40, 71, 0.15),
                0 0 0 1px rgba(13, 40, 71, 0.1) inset;
        }

        .radio-card input[type="radio"]:checked + .radio-card-content {
            border-color: var(--primary);
            background: linear-gradient(135deg, rgba(26, 61, 92, 0.05) 0%, rgba(26, 61, 92, 0.08) 100%);
            box-shadow: var(--shadow-colored);
        }

        .radio-card input[type="radio"]:checked + .radio-card-content::before {
            content: '✓';
            position: absolute;
            top: 16px;
            right: 16px;
            background: var(--primary-gradient);
            color: white;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 13px;
            font-weight: 700;
            box-shadow: var(--shadow-sm);
        }

        .radio-card-title {
            font-size: 16px;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 8px;
        }

        .radio-card-desc {
            font-size: 13px;
            color: var(--text-secondary);
            line-height: 1.5;
        }

        /* Checkbox Group */
        .checkbox-group {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 12px;
            margin-top: 8px;
        }

        .checkbox-item {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 12px;
            border: 2px solid var(--border);
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s;
            background: var(--bg-white);
        }

        .checkbox-item:hover {
            border-color: var(--primary);
            background: rgba(26, 61, 92, 0.02);
        }

        .checkbox-item input[type="checkbox"] {
            width: 18px;
            height: 18px;
            cursor: pointer;
            accent-color: var(--primary);
        }

        .checkbox-item input[type="checkbox"]:checked + span {
            font-weight: 600;
            color: var(--primary);
        }

        .checkbox-item:has(input[type="checkbox"]:checked) {
            border-color: var(--primary);
            background: rgba(26, 61, 92, 0.05);
        }

        /* Submit Section */
        .submit-section {
            margin-top: 56px;
            padding-top: 40px;
            border-top: 1px solid var(--border-light);
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .submit-btn {
            background: var(--primary-gradient);
            color: white;
            padding: 20px 48px;
            border: none;
            border-radius: 12px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            min-width: 240px;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            box-shadow: 
                0 10px 30px rgba(13, 40, 71, 0.3),
                0 0 0 1px rgba(255, 255, 255, 0.1) inset;
            text-transform: uppercase;
            letter-spacing: 0.8px;
            display: inline-block;
            overflow: hidden;
        }

        .submit-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.5s ease;
        }

        .submit-btn:hover::before {
            left: 100%;
        }

        .submit-btn:hover:not(:disabled) {
            background: var(--primary-gradient-hover);
            transform: translateY(-4px) scale(1.02);
            box-shadow: 
                0 16px 40px rgba(13, 40, 71, 0.35),
                0 0 0 1px rgba(255, 255, 255, 0.15) inset;
        }

        .submit-btn:active:not(:disabled) {
            transform: translateY(0);
            box-shadow: var(--shadow-md);
        }

        .submit-btn:active:not(:disabled) {
            background: var(--primary-dark);
        }

        .submit-btn:disabled {
            background: #cbd5e0;
            cursor: not-allowed;
        }

        .submit-btn.loading {
            color: transparent;
        }

        .submit-btn.loading::after {
            content: '';
            position: absolute;
            width: 22px;
            height: 22px;
            top: 50%;
            left: 50%;
            margin-left: -11px;
            margin-top: -11px;
            border: 3px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            border-top-color: white;
            animation: spin 0.8s cubic-bezier(0.4, 0, 0.2, 1) infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        @keyframes pulse {
            0%, 100% {
                opacity: 1;
            }
            50% {
                opacity: 0.7;
            }
        }

        .section-number {
            animation: pulse 2s ease-in-out infinite;
        }

        /* Messages */
        .message {
            padding: 20px 28px;
            border-radius: 14px;
            margin-bottom: 32px;
            display: none;
            font-size: 15px;
            line-height: 1.7;
            font-weight: 500;
            box-shadow: var(--shadow-md);
            border: 1px solid transparent;
            position: relative;
            overflow: hidden;
            animation: slideDown 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }

        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .message::before {
            content: '';
            position: absolute;
            left: 0;
            top: 0;
            bottom: 0;
            width: 4px;
            background: currentColor;
            opacity: 0.6;
        }

        .message.success {
            background: linear-gradient(135deg, rgba(16, 185, 129, 0.1) 0%, rgba(209, 250, 229, 0.8) 100%);
            color: #065f46;
            border-color: rgba(16, 185, 129, 0.2);
            box-shadow: 
                0 8px 24px rgba(16, 185, 129, 0.2),
                0 0 0 1px rgba(16, 185, 129, 0.1) inset;
        }

        .message.error {
            background: linear-gradient(135deg, rgba(239, 68, 68, 0.1) 0%, rgba(254, 226, 226, 0.8) 100%);
            color: #991b1b;
            border-color: rgba(239, 68, 68, 0.2);
            box-shadow: 
                0 8px 24px rgba(239, 68, 68, 0.2),
                0 0 0 1px rgba(239, 68, 68, 0.1) inset;
        }

        .message.info {
            background: linear-gradient(135deg, rgba(2, 132, 199, 0.1) 0%, rgba(224, 242, 254, 0.8) 100%);
            color: #0c4a6e;
            border-color: rgba(2, 132, 199, 0.2);
            box-shadow: 
                0 8px 24px rgba(2, 132, 199, 0.2),
                0 0 0 1px rgba(2, 132, 199, 0.1) inset;
        }

        /* Auto-save indicator */
        .save-indicator {
            position: fixed;
            bottom: 24px;
            right: 24px;
            background: var(--bg-white);
            border: 1px solid var(--border-light);
            border-radius: 12px;
            padding: 14px 24px;
            box-shadow: var(--shadow-lg);
            font-size: 14px;
            color: var(--text-secondary);
            display: none;
            z-index: 1000;
            backdrop-filter: blur(10px);
            font-weight: 500;
        }

        /* Start Application Button */
        .start-application-btn {
            display: none;
        }

        .job-description-toggle {
            display: none;
            background: var(--primary-gradient);
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            width: 100%;
            margin-bottom: 16px;
            transition: all 0.3s ease;
        }

        .job-description-toggle:hover {
            transform: translateY(-1px);
            box-shadow: var(--shadow-md);
        }

        .job-description-toggle::after {
            content: ' ▼';
            font-size: 12px;
            margin-left: 8px;
            transition: transform 0.3s ease;
        }

        .job-description-toggle.collapsed::after {
            transform: rotate(-90deg);
        }

        .job-description-content {
            transition: all 0.3s ease;
        }

        .job-description-content.collapsed {
            max-height: 0;
            overflow: hidden;
            opacity: 0;
        }

        .save-indicator.show {
            display: block;
            animation: slideUp 0.3s ease;
        }

        .save-indicator.saving {
            color: var(--primary);
        }

        .save-indicator.saved {
            color: var(--success);
        }

        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Footer */
        .footer {
            text-align: left;
            padding: 50px 40px;
            color: var(--text-secondary);
            font-size: 13px;
            background: var(--bg-white);
            border-top: 2px solid var(--border-light);
            margin-top: 80px;
            line-height: 1.8;
        }

        .footer-content {
            max-width: 1200px;
            margin: 0 auto;
        }

        .footer-section {
            margin-bottom: 24px;
        }

        .footer-section:last-child {
            margin-bottom: 0;
        }

        .footer h4 {
            color: var(--primary);
            font-size: 14px;
            font-weight: 600;
            margin-bottom: 12px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .footer p {
            color: var(--text-secondary);
            font-size: 13px;
            line-height: 1.7;
            margin-bottom: 8px;
        }

        .footer-links {
            display: flex;
            justify-content: center;
            gap: 24px;
            flex-wrap: wrap;
            margin-top: 20px;
        }

        .footer-links a {
            color: var(--primary);
            text-decoration: none;
            font-weight: 500;
            transition: color 0.2s ease;
        }

        .footer-links a:hover {
            color: var(--primary-dark);
            text-decoration: underline;
        }

        .footer strong {
            color: var(--text-primary);
            font-weight: 600;
        }

        .disclaimer-box {
            background: var(--bg-light);
            border: 1px solid var(--border);
            border-radius: 10px;
            padding: 20px;
            margin-top: 30px;
            font-size: 12px;
            color: var(--text-secondary);
            line-height: 1.6;
        }

        .disclaimer-box strong {
            color: var(--text-primary);
            font-weight: 600;
        }

        /* Responsive Design */
        @media (max-width: 1024px) {
            .content-layout {
                grid-template-columns: 1fr;
            }

            .nav-sidebar {
                position: relative;
                top: 0;
            }

            .main-container {
                padding: 0 30px;
            }

            .form-content {
                padding: 40px 45px;
            }

            .job-description {
                padding: 24px 30px;
            }

            .radio-cards {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 768px) {
            /* Mobile-first optimizations */
            body {
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .application-wrapper {
                overflow-x: hidden;
            }
            .start-application-btn {
                display: block;
                position: sticky;
                top: 0;
                z-index: 99;
                background: var(--primary-gradient);
                color: white;
                border: none;
                padding: 18px 20px;
                border-radius: 0;
                font-size: 16px;
                font-weight: 600;
                cursor: pointer;
                width: 100%;
                box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
                text-transform: uppercase;
                letter-spacing: 0.5px;
                transition: all 0.3s ease;
                -webkit-tap-highlight-color: transparent;
            }

            .start-application-btn:active {
                transform: scale(0.98);
                background: var(--primary-dark);
            }

            .position-card {
                margin-bottom: 16px;
                border-radius: 12px;
                overflow: hidden;
            }

            .position-card-header {
                padding: 20px 16px;
            }

            .position-card-header h2 {
                font-size: 20px;
                line-height: 1.3;
                margin-bottom: 8px;
            }

            .position-card-header p {
                font-size: 14px;
                line-height: 1.5;
            }

            .job-description-toggle {
                display: block;
            }

            .job-description {
                padding: 0;
            }

            .job-description-content {
                padding: 0 16px 16px;
            }

            .job-section {
                margin-bottom: 20px;
            }

            .job-section h3 {
                font-size: 16px;
                margin-bottom: 12px;
                line-height: 1.4;
            }

            .job-section ul {
                padding-left: 20px;
            }

            .job-section li {
                font-size: 14px;
                margin-bottom: 10px;
                line-height: 1.6;
            }

            .job-note {
                padding: 16px;
                background: var(--bg-light);
                border-radius: 8px;
                margin-top: 16px;
            }

            .job-note p {
                font-size: 13px;
                line-height: 1.6;
            }

            .header {
                margin-bottom: 0;
            }

            .header-content {
                padding: 35px 20px 30px;
            }

            .header h1 {
                font-size: 28px;
                line-height: 1.2;
                margin-bottom: 8px;
            }

            .header p {
                font-size: 15px;
                line-height: 1.4;
            }

            .main-container {
                margin: 0 auto;
                padding: 0 12px;
                max-width: 100%;
            }

            .form-card {
                border-radius: 12px;
                margin: 15px 0;
                box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
            }

            .form-content {
                padding: 20px 16px;
            }

            .form-grid {
                grid-template-columns: 1fr;
                gap: 20px;
            }

            .form-section {
                padding: 20px 0;
                margin-bottom: 24px;
            }

            .section-header {
                margin-bottom: 16px;
                padding-bottom: 10px;
                flex-wrap: wrap;
                gap: 10px;
            }

            .section-title {
                font-size: 17px;
                line-height: 1.3;
            }

            .section-number {
                width: 28px;
                height: 28px;
                font-size: 13px;
                flex-shrink: 0;
            }

            .position-card {
                margin-bottom: 20px;
            }

            .position-card-header {
                padding: 20px 18px;
            }

            .position-card-header h2 {
                font-size: 22px;
            }

            .position-card-header p {
                font-size: 14px;
            }

            .job-description {
                padding: 20px 18px;
            }

            .job-section {
                margin-bottom: 24px;
            }

            .job-section h3 {
                font-size: 17px;
                margin-bottom: 10px;
            }

            .job-section ul {
                padding-left: 20px;
            }

            .job-section li {
                font-size: 14px;
                margin-bottom: 8px;
            }

            .radio-cards {
                grid-template-columns: 1fr;
                gap: 14px;
            }

            .radio-card {
                padding: 18px 16px;
                min-height: 60px;
                border-radius: 10px;
                -webkit-tap-highlight-color: transparent;
                touch-action: manipulation;
            }

            .radio-card:active {
                transform: scale(0.98);
            }

            .radio-card-title {
                font-size: 15px;
                font-weight: 600;
                margin-bottom: 6px;
            }

            .radio-card-desc {
                font-size: 13px;
                line-height: 1.5;
            }

            input[type="text"],
            input[type="email"],
            input[type="tel"],
            input[type="date"],
            input[type="number"],
            select,
            textarea {
                padding: 16px 18px;
                font-size: 16px; /* Prevents zoom on iOS */
                border-radius: 10px;
                border-width: 2px;
                -webkit-appearance: none;
                appearance: none;
                width: 100%;
                box-sizing: border-box;
            }

            select {
                background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%231a3d5c' d='M6 9L1 4h10z'/%3E%3C/svg%3E");
                background-repeat: no-repeat;
                background-position: right 16px center;
                background-size: 12px;
                padding-right: 40px;
            }

            textarea {
                min-height: 140px;
                resize: vertical;
            }

            label {
                font-size: 14px;
                margin-bottom: 10px;
                font-weight: 600;
            }

            .form-group {
                margin-bottom: 20px;
            }

            .file-upload-wrapper {
                margin-bottom: 20px;
            }

            .file-upload-label {
                padding: 32px 20px;
                min-height: 120px;
                display: flex;
                flex-direction: column;
                justify-content: center;
                align-items: center;
                cursor: pointer;
                -webkit-tap-highlight-color: transparent;
            }

            .file-upload-label:active {
                transform: scale(0.98);
                background: var(--bg-light);
            }

            .file-upload-text {
                font-size: 15px;
                font-weight: 600;
                margin-bottom: 8px;
            }

            .file-upload-hint {
                font-size: 13px;
                line-height: 1.5;
                text-align: center;
            }

            .btn {
                padding: 18px 24px;
                font-size: 16px;
                font-weight: 600;
                min-height: 52px; /* Better touch target */
                width: 100%;
                border-radius: 10px;
                -webkit-tap-highlight-color: transparent;
                touch-action: manipulation;
            }

            .btn:active {
                transform: scale(0.98);
            }

            .progress-container {
                position: sticky;
                top: 0;
                z-index: 100;
                background: white;
                box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
                margin-bottom: 0;
            }

            .progress-info {
                padding: 10px 16px;
                flex-direction: row;
                justify-content: space-between;
                align-items: center;
                gap: 12px;
            }

            .progress-text {
                font-size: 12px;
                font-weight: 600;
            }

            .progress-percentage {
                font-size: 16px;
                font-weight: 700;
            }

            .progress-bar {
                height: 4px;
            }

            .nav-sidebar {
                position: relative;
                top: 0;
                margin-bottom: 20px;
                padding: 0;
                border-radius: 12px;
                background: var(--bg-white);
                border: 2px solid var(--border-light);
                box-shadow: var(--shadow-sm);
                overflow: hidden;
            }

            .nav-sidebar-header {
                display: flex;
                justify-content: space-between;
                align-items: center;
                padding: 16px 18px;
                background: var(--bg-light);
                border-bottom: 2px solid var(--border-light);
                cursor: pointer;
                -webkit-tap-highlight-color: transparent;
                user-select: none;
            }

            .nav-sidebar-header:active {
                background: var(--border-light);
            }

            .nav-sidebar h3 {
                font-size: 14px;
                margin: 0;
                font-weight: 700;
                text-transform: uppercase;
                letter-spacing: 0.5px;
                color: var(--primary);
            }

            .nav-toggle-icon {
                font-size: 18px;
                color: var(--primary);
                transition: transform 0.3s ease;
                font-weight: 600;
            }

            .nav-sidebar.collapsed .nav-toggle-icon {
                transform: rotate(180deg);
            }

            .nav-sidebar-content {
                max-height: 400px;
                overflow-y: auto;
                -webkit-overflow-scrolling: touch;
                transition: max-height 0.3s ease;
            }

            .nav-sidebar.collapsed .nav-sidebar-content {
                max-height: 0;
                overflow: hidden;
            }

            .nav-list {
                padding: 12px;
                margin: 0;
            }

            .nav-item {
                margin-bottom: 6px;
            }

            .nav-link {
                padding: 14px 16px;
                font-size: 14px;
                min-height: 48px;
                display: flex;
                align-items: center;
                -webkit-tap-highlight-color: transparent;
                border-radius: 8px;
                font-weight: 500;
            }

            .nav-link:active {
                background: var(--bg-light);
                transform: scale(0.98);
            }

            .nav-link.active {
                background: rgba(26, 61, 92, 0.1);
                color: var(--primary);
                font-weight: 600;
                border-left: 4px solid var(--primary);
            }

            .video-instructions {
                padding: 16px;
                border-radius: 10px;
                margin-bottom: 20px;
            }

            .video-instructions h4 {
                font-size: 16px;
                margin-bottom: 12px;
                line-height: 1.4;
            }

            .video-instructions > div {
                grid-template-columns: 1fr;
                gap: 14px;
            }

            .video-instructions ul {
                padding-left: 20px;
            }

            .video-instructions li {
                font-size: 13px;
                line-height: 1.6;
                margin-bottom: 8px;
            }

            .char-counter {
                font-size: 11px;
                margin-top: 6px;
            }

            .error-message {
                font-size: 12px;
                margin-top: 6px;
                padding: 8px 12px;
                border-radius: 6px;
            }

            .message {
                padding: 14px 16px;
                font-size: 14px;
                line-height: 1.5;
                margin-bottom: 20px;
                border-radius: 10px;
            }

            .file-selected {
                padding: 12px 16px;
                margin-top: 12px;
                border-radius: 8px;
                flex-wrap: wrap;
                gap: 10px;
            }

            .file-selected span {
                font-size: 13px;
            }

            .remove-file-btn {
                padding: 8px 14px;
                font-size: 13px;
                min-height: 36px;
                border-radius: 6px;
            }

            .footer {
                padding: 30px 20px;
                margin-top: 40px;
                text-align: center;
            }

            .footer h4 {
                font-size: 14px;
            }

            .footer p {
                font-size: 12px;
                line-height: 1.6;
            }

            .footer-links {
                gap: 16px;
                margin-top: 16px;
            }

            .disclaimer-box {
                padding: 16px;
                margin-top: 24px;
                font-size: 11px;
                line-height: 1.6;
            }

            .save-indicator {
                bottom: 20px;
                right: 20px;
                left: 20px;
                padding: 12px 16px;
                font-size: 13px;
                border-radius: 8px;
            }

            /* Additional mobile optimizations */
            .form-section:first-of-type {
                padding-top: 10px;
            }

            .section-divider {
                display: none;
            }

            /* Better spacing for file uploads */
            .file-upload-wrapper + .file-upload-wrapper {
                margin-top: 20px;
            }

            /* Optimize dropdowns on mobile */
            select {
                background-size: 14px;
                padding-right: 44px;
            }

            /* Better message display */
            .message {
                word-wrap: break-word;
                overflow-wrap: break-word;
            }

            /* Optimize character counters */
            .char-counter {
                position: relative;
                margin-top: 4px;
            }

            /* Better error display */
            .error-message {
                word-wrap: break-word;
                line-height: 1.4;
            }

            /* Optimize radio cards spacing */
            .fit-question {
                margin-bottom: 24px;
            }

            .fit-question-label {
                font-size: 14px;
                line-height: 1.5;
                margin-bottom: 14px;
            }

            /* Better video instructions */
            .video-instructions {
                margin-top: 20px;
            }

            /* Optimize document guidelines */
            .document-guidelines {
                padding: 16px;
                margin-bottom: 20px;
                border-radius: 10px;
            }

            .document-guidelines h4 {
                font-size: 15px;
                margin-bottom: 12px;
            }

            .document-guidelines ul {
                padding-left: 20px;
            }

            .document-guidelines li {
                font-size: 13px;
                line-height: 1.6;
                margin-bottom: 8px;
            }

            /* Better footer on mobile */
            .footer {
                padding: 24px 16px;
            }

            /* Hide desktop-only elements */
            .nav-link::before {
                display: none;
            }

            .nav-link:hover {
                padding-left: 16px;
            }
        }

        @media (max-width: 480px) {
            .header-content {
                padding: 40px 15px 30px;
            }

            .header h1 {
                font-size: 26px;
                line-height: 1.2;
            }

            .header p {
                font-size: 15px;
            }

            .main-container {
                margin: -25px auto 25px;
                padding: 0 12px;
            }

            .form-content {
                padding: 20px 15px;
            }

            .form-section {
                padding: 20px 0;
                margin-bottom: 25px;
            }

            .section-header {
                margin-bottom: 18px;
                padding-bottom: 10px;
            }

            .section-title {
                font-size: 17px;
            }

            .section-number {
                width: 30px;
                height: 30px;
                font-size: 13px;
            }

            .position-card-header {
                padding: 18px 15px;
            }

            .position-card-header h2 {
                font-size: 20px;
            }

            .job-description {
                padding: 18px 15px;
            }

            .job-section h3 {
                font-size: 16px;
            }

            .job-section li {
                font-size: 13px;
            }

            input[type="text"],
            input[type="email"],
            input[type="tel"],
            input[type="date"],
            input[type="number"],
            select,
            textarea {
                padding: 12px 14px;
                font-size: 16px; /* Prevents zoom on iOS */
            }

            .radio-card {
                padding: 12px;
            }

            .file-upload-label {
                padding: 25px 15px;
            }

            .btn {
                width: 100%;
                padding: 16px;
                font-size: 16px;
            }

            .progress-info {
                padding: 10px 12px;
            }

            .nav-sidebar {
                padding: 15px;
            }

            .video-instructions {
                padding: 15px;
            }

            .save-indicator {
                bottom: 16px;
                right: 16px;
                left: 16px;
            }
        }
    </style>
</head>
<body>
    <div class="application-wrapper">
        <!-- Progress Bar -->
        <div class="progress-container">
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>
            <div class="progress-info">
                <span class="progress-text">Application Progress</span>
                <span class="progress-percentage" id="progressPercentage">0%</span>
            </div>
        </div>

        <div class="header">
            <div class="header-content">
                <h1>Elmwood & Company</h1>
                <p>Marketing & Operations Coordinator Application</p>
            </div>
        </div>

        <div class="main-container">
            <div class="position-card">
                <div class="position-card-header">
                    <h2>About Elmwood & Company</h2>
                    <p>Elmwood & Company is a U.S.-based industrial real estate brokerage specializing in the acquisition, disposition, and leasing of industrial properties including warehouses, distribution centers, manufacturing facilities, and logistics hubs.</p>
                </div>
                <button class="job-description-toggle" onclick="toggleCompanyDetails()">View Company Details</button>
                <div class="company-details">
                    <div class="job-description-content company-content">
                    <div class="company-section">
                        <h3>Our Work Environment</h3>
                        <p>We operate in a fast-paced, detail-oriented environment where accuracy and professionalism are paramount. Our team collaborates closely to ensure seamless transaction coordination from initial contract execution through closing. Every document, deadline, and communication matters in ensuring successful outcomes for our clients.</p>
                    </div>
                    </div>
                </div>
            </div>

            <button class="start-application-btn" onclick="document.getElementById('section-1').scrollIntoView({behavior: 'smooth', block: 'start'});">Start Application</button>

            <div class="position-card" style="margin-top: 30px;">
                <div class="position-card-header">
                    <h2>Position: Marketing & Operations Coordinator</h2>
                    <p>Full-time remote role supporting industrial real estate brokerage operations</p>
                </div>
                <button class="job-description-toggle" onclick="toggleJobDescription()">View Job Details</button>
                <div class="job-description">
                    <div class="job-description-content">
                    <div class="job-section">
                        <h3>Key Responsibilities</h3>
                        <ul>
                            <li><strong>Marketing & Design (Primary Focus):</strong> Create and design professional marketing materials including offering memorandums, property listings, presentations, brochures, and digital graphics</li>
                            <li><strong>Design & Branding:</strong> Design and edit professional graphics and collateral using tools such as Canva, Adobe InDesign, Illustrator, or similar design platforms</li>
                            <li><strong>Content Creation:</strong> Prepare compelling property marketing materials, presentations, and visual content for client meetings and property listings</li>
                            <li><strong>Operations Support:</strong> Coordinate real estate transactions from contract execution through closing</li>
                            <li><strong>Documentation & Coordination:</strong> Manage transaction documentation, timelines, due diligence materials, and key deadlines</li>
                            <li><strong>CRM & Database Management:</strong> Maintain CRM databases, update deal status, and generate internal reports</li>
                            <li><strong>Client Communication:</strong> Communicate regularly with clients, brokers, attorneys, lenders, and title companies</li>
                            <li><strong>Process Improvement:</strong> Assist in developing and improving internal systems, workflows, and operational processes</li>
                        </ul>
                    </div>
                    <div class="job-section">
                        <h3>Qualifications</h3>
                        <ul>
                            <li><strong>Marketing & Design Experience (Highly Valued):</strong> Strong portfolio demonstrating ability to create professional marketing materials, presentations, and graphics</li>
                            <li><strong>Design Software Proficiency:</strong> Working knowledge of Canva, Adobe InDesign, Illustrator, Photoshop, or similar design platforms (required)</li>
                            <li><strong>Real Estate Experience (Preferred but Not Required):</strong> 3–5 years of experience in real estate operations, transaction coordination, marketing, or a related role</li>
                            <li><strong>Excellent English Communication:</strong> Both written and verbal communication skills</li>
                            <li><strong>Organizational Skills:</strong> Strong attention to detail and ability to manage multiple projects</li>
                            <li><strong>Microsoft Office:</strong> Proficiency in PowerPoint and Excel</li>
                            <li><strong>CRM Systems:</strong> Experience with CRM systems and database management (preferred)</li>
                            <li><strong>Technical Requirements:</strong> Reliable high-speed internet connection and a professional home office environment</li>
                            <li><strong>Availability:</strong> Work with meaningful overlap during U.S. business hours</li>
                        </ul>
                    </div>
                    <div class="job-note">
                        <p><strong>Note:</strong> <strong>Marketing and design skills are our top priority.</strong> If you don't have direct real estate experience, we encourage you to apply! We're looking for candidates with strong marketing, design, and creative skills who can learn the real estate operations aspect. Please describe your marketing/design experience, portfolio work, and any transferable skills from project coordination, operations, marketing, or administrative roles.</p>
                    </div>
                    <div class="job-section" style="margin-top: 32px;">
                        <h3>Why This Role Is A Great Opportunity</h3>
                        <ul>
                            <li><strong>Direct Access to Leadership:</strong> Work directly with the CEO and Senior Brokers, gaining exposure to high-level decision-making and strategic thinking</li>
                            <li><strong>Institutional Client Exposure:</strong> Support transactions and relationships with institutional clients, providing valuable experience in enterprise-level real estate</li>
                            <li><strong>Professional Growth:</strong> Develop expertise in industrial real estate while building relationships with industry leaders</li>
                            <li><strong>Impact & Visibility:</strong> Your work directly supports major transactions and client relationships, giving you meaningful visibility into the business</li>
                            <li><strong>Skill Development:</strong> Opportunity to master marketing design, transaction coordination, CRM systems, and client communication in a fast-paced environment</li>
                        </ul>
                    </div>
                    </div>
                </div>
            </div>

            <div class="content-layout">
                <!-- Navigation Sidebar -->
                <nav class="nav-sidebar" id="navSidebar">
                    <div class="nav-sidebar-header" onclick="toggleNavSidebar()">
                        <h3>Application Sections</h3>
                        <span class="nav-toggle-icon">▼</span>
                    </div>
                    <div class="nav-sidebar-content">
                        <ul class="nav-list" id="navList"></ul>
                    </div>
                </nav>

                <!-- Form Card -->
                <div class="form-card">
                    <div class="form-content">
                        <noscript>
                            <div class="message error" style="display: block;">
                                <strong>JavaScript is required</strong> for this application form to work properly.
                            </div>
                        </noscript>

                        <div id="message" class="message"></div>

                        <form id="applicationForm" enctype="multipart/form-data">
                            <!-- Personal Information -->
                            <div class="form-section" id="section-1" data-section="1">
                                <div class="section-header">
                                    <div class="section-number">1</div>
                                    <h3 class="section-title">Personal Information</h3>
                                </div>
                                <div class="form-grid">
                                    <div class="form-group">
                                        <label for="fullName">Full Name <span class="required">*</span></label>
                                        <input type="text" id="fullName" name="fullName" required>
                                        <div class="error-message" id="fullName-error"></div>
                                    </div>
                                    <div class="form-group">
                                        <label for="email">Email Address <span class="required">*</span></label>
                                        <input type="email" id="email" name="email" required>
                                        <div class="error-message" id="email-error"></div>
                                    </div>
                                    <div class="form-group">
                                        <label for="phone">Phone Number <span class="required">*</span></label>
                                        <input type="tel" id="phone" name="phone" required>
                                        <div class="error-message" id="phone-error"></div>
                                    </div>
                                    <div class="form-group">
                                        <label for="location">Location (City, Country) <span class="required">*</span></label>
                                        <input type="text" id="location" name="location" required>
                                        <div class="error-message" id="location-error"></div>
                                    </div>
                                </div>
                            </div>

                            <!-- Education -->
                            <div class="form-section" id="section-2" data-section="2">
                                <div class="section-header">
                                    <div class="section-number">2</div>
                                    <h3 class="section-title">Education</h3>
                                </div>
                                <div class="form-grid">
                                    <div class="form-group">
                                        <label for="highestEducation">Highest Level of Education <span class="required">*</span></label>
                                        <select id="highestEducation" name="highestEducation" required>
                                            <option value="">Select...</option>
                                            <option value="high-school">High School Diploma</option>
                                            <option value="some-college">Some College</option>
                                            <option value="associates">Associate's Degree</option>
                                            <option value="bachelors">Bachelor's Degree</option>
                                            <option value="masters">Master's Degree</option>
                                            <option value="phd">PhD/Doctorate</option>
                                            <option value="other">Other</option>
                                        </select>
                                        <div class="error-message" id="highestEducation-error"></div>
                                    </div>
                                    <div class="form-group">
                                        <label for="educationField">Field of Study</label>
                                        <input type="text" id="educationField" name="educationField" placeholder="e.g., Business Administration, Real Estate, Communications">
                                    </div>
                                    <div class="form-group full-width">
                                        <label for="institution">Institution Name</label>
                                        <input type="text" id="institution" name="institution" placeholder="e.g., University Name">
                                    </div>
                                    <div class="form-group">
                                        <label for="graduationYear">Graduation Year</label>
                                        <input type="number" id="graduationYear" name="graduationYear" min="1950" max="2030" placeholder="e.g., 2020">
                                    </div>
                                    <div class="form-group">
                                        <label for="gpa">GPA (Optional)</label>
                                        <input type="text" id="gpa" name="gpa" placeholder="e.g., 3.5 or 3.5/4.0">
                                    </div>
                                    <div class="form-group full-width">
                                        <label for="additionalEducation">Additional Education, Certifications, or Training</label>
                                        <textarea id="additionalEducation" name="additionalEducation" placeholder="List any relevant certifications, professional development courses, or additional training (e.g., Real Estate License, Project Management Certification, etc.)" maxlength="1000"></textarea>
                                        <div class="char-counter" id="additionalEducation-counter">0 / 1000 characters</div>
                                    </div>
                                </div>
                            </div>

                            <!-- Professional Experience -->
                            <div class="form-section" id="section-3" data-section="3">
                                <div class="section-header">
                                    <div class="section-number">3</div>
                                    <h3 class="section-title">Professional Experience</h3>
                                </div>
                                <div class="form-grid">
                                    <div class="form-group">
                                        <label for="marketingDesignExperience">Years of Marketing/Design Experience <span class="required">*</span></label>
                                        <select id="marketingDesignExperience" name="marketingDesignExperience" required>
                                            <option value="">Select...</option>
                                            <option value="0-1">Less than 1 year</option>
                                            <option value="1-2">1-2 years</option>
                                            <option value="3-5">3-5 years</option>
                                            <option value="5+">5+ years</option>
                                        </select>
                                        <div class="error-message" id="marketingDesignExperience-error"></div>
                                    </div>
                                    <div class="form-group">
                                        <label for="creExperience">Commercial Real Estate Experience <span class="required">*</span></label>
                                        <select id="creExperience" name="creExperience" required>
                                            <option value="">Select...</option>
                                            <option value="none">No commercial real estate experience</option>
                                            <option value="1-2">1-2 years</option>
                                            <option value="3-5">3-5 years</option>
                                            <option value="5+">5+ years</option>
                                        </select>
                                        <div class="error-message" id="creExperience-error"></div>
                                    </div>
                                    <div class="form-group full-width">
                                        <label for="previousRole">Current/Previous Role/Position <span class="required">*</span></label>
                                        <input type="text" id="previousRole" name="previousRole" placeholder="e.g., Marketing Coordinator, Graphic Designer, Operations Manager, Transaction Coordinator" required>
                                        <div class="error-message" id="previousRole-error"></div>
                                    </div>
                                    <div class="form-group full-width">
                                        <label for="marketingExperience">Describe your marketing and design experience. What types of marketing materials, graphics, or presentations have you created? <span class="required">*</span></label>
                                        <textarea id="marketingExperience" name="marketingExperience" placeholder="Please describe your experience creating marketing materials, presentations, graphics, brochures, or other design work. Include details about the types of projects, tools you've used, and the impact of your work. If you have a portfolio, you'll be able to upload samples later in this application." required maxlength="2000"></textarea>
                                        <div class="char-counter" id="marketingExperience-counter">0 / 2000 characters</div>
                                        <div class="error-message" id="marketingExperience-error"></div>
                                    </div>
                                    <div class="form-group full-width" id="realEstateExperienceSection" style="display: none;">
                                        <label for="transactionExperience">If you have real estate experience, describe your experience coordinating transactions from contract to closing <span class="required">*</span></label>
                                        <textarea id="transactionExperience" name="transactionExperience" placeholder="Include details about managing timelines, due diligence, documentation, and stakeholder communication." maxlength="2000"></textarea>
                                        <div class="char-counter" id="transactionExperience-counter">0 / 2000 characters</div>
                                        <div class="error-message" id="transactionExperience-error"></div>
                                    </div>
                                    <div class="form-group full-width" id="transferableExperienceSection">
                                        <label for="transferableExperience">If you don't have real estate experience, describe relevant transferable experiences that demonstrate your ability to succeed in this role <span class="required">*</span></label>
                                        <textarea id="transferableExperience" name="transferableExperience" placeholder="Describe experiences from project coordination, operations management, marketing, administrative support, or similar roles. Focus on skills like managing deadlines, coordinating with multiple stakeholders, attention to detail, and creating professional deliverables." required maxlength="2000"></textarea>
                                        <div class="char-counter" id="transferableExperience-counter">0 / 2000 characters</div>
                                        <div class="error-message" id="transferableExperience-error"></div>
                                    </div>
                                </div>
                            </div>

                            <!-- Technical Skills -->
                            <div class="form-section" id="section-4" data-section="4">
                                <div class="section-header">
                                    <div class="section-number">4</div>
                                    <h3 class="section-title">Technical Skills & Software</h3>
                                </div>
                                <div class="form-grid">
                                    <div class="form-group">
                                        <label for="microsoftOffice">Microsoft Office Proficiency <span class="required">*</span></label>
                                        <select id="microsoftOffice" name="microsoftOffice" required>
                                            <option value="">Select...</option>
                                            <option value="expert">Expert (Advanced Excel, PowerPoint)</option>
                                            <option value="proficient">Proficient (Strong Excel, PowerPoint)</option>
                                            <option value="intermediate">Intermediate (Basic Excel, PowerPoint)</option>
                                            <option value="beginner">Beginner</option>
                                        </select>
                                        <div class="error-message" id="microsoftOffice-error"></div>
                                    </div>
                                    <div class="form-group">
                                        <label for="crmSystems">CRM Systems Experience <span class="required">*</span></label>
                                        <select id="crmSystems" name="crmSystems" required>
                                            <option value="">Select...</option>
                                            <option value="expert">Expert (Multiple systems, advanced features)</option>
                                            <option value="proficient">Proficient (Strong experience with 1-2 systems)</option>
                                            <option value="intermediate">Intermediate (Basic CRM experience)</option>
                                            <option value="beginner">Beginner</option>
                                        </select>
                                        <div class="error-message" id="crmSystems-error"></div>
                                    </div>
                                    <div class="form-group full-width">
                                        <label for="crmExperience">Which CRM systems have you used? Please describe your experience <span class="required">*</span></label>
                                        <textarea id="crmExperience" name="crmExperience" placeholder="e.g., Salesforce, HubSpot, Buildout, CoStar, or others. Describe your experience with database management, deal tracking, and reporting." required maxlength="1500"></textarea>
                                        <div class="char-counter" id="crmExperience-counter">0 / 1500 characters</div>
                                        <div class="error-message" id="crmExperience-error"></div>
                                    </div>
                                    <div class="form-group full-width">
                                        <label for="designTools">Design & Graphics Software Experience <span class="required">*</span></label>
                                        <div class="checkbox-group">
                                            <label class="checkbox-item">
                                                <input type="checkbox" name="designTools" value="Canva">
                                                <span>Canva</span>
                                            </label>
                                            <label class="checkbox-item">
                                                <input type="checkbox" name="designTools" value="Adobe InDesign">
                                                <span>Adobe InDesign</span>
                                            </label>
                                            <label class="checkbox-item">
                                                <input type="checkbox" name="designTools" value="Adobe Illustrator">
                                                <span>Adobe Illustrator</span>
                                            </label>
                                            <label class="checkbox-item">
                                                <input type="checkbox" name="designTools" value="Adobe Photoshop">
                                                <span>Adobe Photoshop</span>
                                            </label>
                                            <label class="checkbox-item">
                                                <input type="checkbox" name="designTools" value="Other">
                                                <span>Other Design Tools</span>
                                            </label>
                                        </div>
                                        <div class="error-message" id="designTools-error"></div>
                                    </div>
                                    <div class="form-group full-width">
                                        <label for="marketingMaterials">Describe your experience creating marketing materials (offering memorandums, property listings, presentations) <span class="required">*</span></label>
                                        <textarea id="marketingMaterials" name="marketingMaterials" placeholder="Include examples of materials you've created and your design process" required maxlength="2000"></textarea>
                                        <div class="char-counter" id="marketingMaterials-counter">0 / 2000 characters</div>
                                        <div class="error-message" id="marketingMaterials-error"></div>
                                    </div>
                                </div>
                            </div>

                            <!-- Availability & Work Schedule -->
                            <div class="form-section" id="section-5" data-section="5">
                                <div class="section-header">
                                    <div class="section-number">5</div>
                                    <h3 class="section-title">Availability & Work Schedule</h3>
                                </div>
                                <div class="form-grid">
                                    <div class="form-group">
                                        <label for="timezone">Your Timezone <span class="required">*</span></label>
                                        <input type="text" id="timezone" name="timezone" placeholder="e.g., EST, PST, GMT+5, IST" required>
                                        <div class="error-message" id="timezone-error"></div>
                                    </div>
                                    <div class="form-group">
                                        <label for="usHoursOverlap">Can you work with meaningful overlap during U.S. business hours (9 AM - 5 PM EST)? <span class="required">*</span></label>
                                        <select id="usHoursOverlap" name="usHoursOverlap" required>
                                            <option value="">Select...</option>
                                            <option value="full">Yes, full overlap (4+ hours)</option>
                                            <option value="partial">Yes, partial overlap (2-4 hours)</option>
                                            <option value="minimal">Minimal overlap (1-2 hours)</option>
                                            <option value="no">No overlap possible</option>
                                        </select>
                                        <div class="error-message" id="usHoursOverlap-error"></div>
                                    </div>
                                    <div class="form-group">
                                        <label for="hoursPerWeek">Hours Per Week Available <span class="required">*</span></label>
                                        <input type="number" id="hoursPerWeek" name="hoursPerWeek" min="30" max="50" value="40" required>
                                        <div class="error-message" id="hoursPerWeek-error"></div>
                                    </div>
                                    <div class="form-group">
                                        <label for="startDate">Earliest Start Date <span class="required">*</span></label>
                                        <input type="date" id="startDate" name="startDate" required>
                                        <div class="error-message" id="startDate-error"></div>
                                    </div>
                                    <div class="form-group full-width">
                                        <label for="workEnvironment">Describe your home office setup and work environment <span class="required">*</span></label>
                                        <textarea id="workEnvironment" name="workEnvironment" placeholder="Include details about your workspace, internet connection, and ability to maintain a professional environment" required maxlength="1000"></textarea>
                                        <div class="char-counter" id="workEnvironment-counter">0 / 1000 characters</div>
                                        <div class="error-message" id="workEnvironment-error"></div>
                                    </div>
                                </div>
                            </div>

                            <!-- Communication & Language -->
                            <div class="form-section" id="section-6" data-section="6">
                                <div class="section-header">
                                    <div class="section-number">6</div>
                                    <h3 class="section-title">Communication & Language Skills</h3>
                                </div>
                                <div class="form-grid">
                                    <div class="form-group">
                                        <label for="englishProficiency">English Proficiency Level <span class="required">*</span></label>
                                        <select id="englishProficiency" name="englishProficiency" required>
                                            <option value="">Select...</option>
                                            <option value="native">Native</option>
                                            <option value="fluent">Fluent (Professional/Business level)</option>
                                            <option value="professional">Professional (Strong written & verbal)</option>
                                            <option value="intermediate">Intermediate</option>
                                        </select>
                                        <div class="error-message" id="englishProficiency-error"></div>
                                    </div>
                                    <div class="form-group full-width">
                                        <label for="stakeholderCommunication">Describe your experience communicating with various stakeholders (clients, brokers, attorneys, lenders, title companies) <span class="required">*</span></label>
                                        <textarea id="stakeholderCommunication" name="stakeholderCommunication" placeholder="Include examples of how you've managed communication with different parties in real estate transactions" required maxlength="2000"></textarea>
                                        <div class="char-counter" id="stakeholderCommunication-counter">0 / 2000 characters</div>
                                        <div class="error-message" id="stakeholderCommunication-error"></div>
                                    </div>
                                </div>
                            </div>

                            <!-- Technical Infrastructure -->
                            <div class="form-section" id="section-7" data-section="7">
                                <div class="section-header">
                                    <div class="section-number">7</div>
                                    <h3 class="section-title">Technical Infrastructure</h3>
                                </div>
                                <div class="form-grid">
                                    <div class="form-group">
                                        <label for="internetSpeed">Internet Speed (Mbps) <span class="required">*</span></label>
                                        <input type="number" id="internetSpeed" name="internetSpeed" min="0" placeholder="e.g., 50, 100, 200" required>
                                        <div class="error-message" id="internetSpeed-error"></div>
                                    </div>
                                    <div class="form-group">
                                        <label for="hasBackupPower">Do you have backup power (UPS/generator)? <span class="required">*</span></label>
                                        <select id="hasBackupPower" name="hasBackupPower" required>
                                            <option value="">Select...</option>
                                            <option value="yes">Yes</option>
                                            <option value="no">No</option>
                                        </select>
                                        <div class="error-message" id="hasBackupPower-error"></div>
                                    </div>
                                </div>
                            </div>

                            <!-- Compensation -->
                            <div class="form-section" id="section-8" data-section="8">
                                <div class="section-header">
                                    <div class="section-number">8</div>
                                    <h3 class="section-title">Compensation</h3>
                                </div>
                                <div class="form-grid">
                                    <div class="form-group">
                                        <label for="expectedRate">Desired Hourly Rate (USD) <span class="required">*</span></label>
                                        <input type="number" id="expectedRate" name="expectedRate" min="0" step="0.01" placeholder="e.g., 10.00" required>
                                        <div class="error-message" id="expectedRate-error"></div>
                                    </div>
                                    <div class="form-group">
                                        <label for="currencyPreference">Currency Preference <span class="required">*</span></label>
                                        <select id="currencyPreference" name="currencyPreference" required>
                                            <option value="">Select...</option>
                                            <option value="USD">USD</option>
                                            <option value="EUR">EUR</option>
                                            <option value="GBP">GBP</option>
                                            <option value="Other">Other</option>
                                        </select>
                                        <div class="error-message" id="currencyPreference-error"></div>
                                    </div>
                                </div>
                            </div>

                            <!-- Role-Specific Questions -->
                            <div class="form-section" id="section-9" data-section="9">
                                <div class="section-header">
                                    <div class="section-number">9</div>
                                    <h3 class="section-title">Role-Specific Experience</h3>
                                </div>
                                <div class="form-grid">
                                    <div class="form-group full-width">
                                        <label for="transactionCoordination">Describe your experience managing transaction documentation, timelines, and due diligence materials (or relevant transferable experience) <span class="required">*</span></label>
                                        <textarea id="transactionCoordination" name="transactionCoordination" placeholder="If you have direct experience, include specific examples of how you've tracked deadlines, organized documents, and ensured nothing falls through the cracks. If not, describe similar experiences managing complex projects, documentation, or processes." required maxlength="2000"></textarea>
                                        <div class="char-counter" id="transactionCoordination-counter">0 / 2000 characters</div>
                                        <div class="error-message" id="transactionCoordination-error"></div>
                                    </div>
                                    <div class="form-group full-width">
                                        <label for="systemsWorkflows">Describe your experience developing or improving internal systems, workflows, and operational processes <span class="required">*</span></label>
                                        <textarea id="systemsWorkflows" name="systemsWorkflows" placeholder="Share examples of process improvements you've implemented or systems you've helped optimize. This can be from any industry or role." required maxlength="2000"></textarea>
                                        <div class="char-counter" id="systemsWorkflows-counter">0 / 2000 characters</div>
                                        <div class="error-message" id="systemsWorkflows-error"></div>
                                    </div>
                                    <div class="form-group full-width">
                                        <label for="complexDeal">Describe a complex real estate transaction or project you've coordinated (or similar complex project/deal) <span class="required">*</span></label>
                                        <textarea id="complexDeal" name="complexDeal" placeholder="If you have real estate experience, include details about challenges faced, how you managed multiple stakeholders, and the outcome. If not, describe a similarly complex project or deal you've managed with multiple moving parts and stakeholders." required maxlength="2000"></textarea>
                                        <div class="char-counter" id="complexDeal-counter">0 / 2000 characters</div>
                                        <div class="error-message" id="complexDeal-error"></div>
                                    </div>
                                    <div class="form-group full-width">
                                        <label for="whyHireYou">Why are you interested in this role at Elmwood & Company? <span class="required">*</span></label>
                                        <textarea id="whyHireYou" name="whyHireYou" placeholder="What draws you to this position and how does it align with your career goals?" required maxlength="1500"></textarea>
                                        <div class="char-counter" id="whyHireYou-counter">0 / 1500 characters</div>
                                        <div class="error-message" id="whyHireYou-error"></div>
                                    </div>
                                </div>
                            </div>

                            <!-- Documents -->
                            <div class="form-section" id="section-10" data-section="10">
                                <div class="section-header">
                                    <div class="section-number">10</div>
                                    <h3 class="section-title">Documents</h3>
                                </div>
                                
                                <div class="form-group full-width" style="margin-bottom: 32px;">
                                    <div class="video-instructions">
                                        <h4>Document Guidelines</h4>
                                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 24px; margin-top: 16px;">
                                            <div>
                                                <strong>Resume:</strong>
                                                <ul style="margin-top: 8px;">
                                                    <li>Include your full work history</li>
                                                    <li>Highlight relevant real estate, operations, or transaction coordination experience</li>
                                                    <li>List technical skills and software proficiencies</li>
                                                    <li>Keep it professional and well-formatted</li>
                                                </ul>
                                            </div>
                                            <div>
                                                <strong>Cover Letter:</strong>
                                                <ul style="margin-top: 8px;">
                                                    <li>Explain why you're interested in this role</li>
                                                    <li>Describe how your experience aligns with the position</li>
                                                    <li>Highlight what makes you a strong candidate</li>
                                                    <li>Keep it concise (1-2 pages recommended)</li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="form-grid">
                                    <div class="form-group">
                                        <label>Resume <span class="required">*</span></label>
                                        <div class="file-upload-wrapper">
                                            <div class="file-upload">
                                                <input type="file" id="resume" name="resume" accept=".pdf,.doc,.docx" required>
                                                <label for="resume" class="file-upload-label">
                                                    <div class="file-upload-text">Upload Resume</div>
                                                    <div class="file-upload-hint">PDF, DOC, or DOCX<br>Max 10MB</div>
                                                </label>
                                            </div>
                                            <div id="resumeSelected" class="file-selected" style="display: none;">
                                                <span class="file-selected-name" id="resumeFileName"></span>
                                                <button type="button" class="file-selected-remove" id="removeResume">×</button>
                                            </div>
                                        </div>
                                        <div class="error-message" id="resume-error"></div>
                                    </div>
                                    <div class="form-group">
                                        <label>Cover Letter <span class="required">*</span></label>
                                        <div class="file-upload-wrapper">
                                            <div class="file-upload">
                                                <input type="file" id="coverLetter" name="coverLetter" accept=".pdf,.doc,.docx" required>
                                                <label for="coverLetter" class="file-upload-label">
                                                    <div class="file-upload-text">Upload Cover Letter</div>
                                                    <div class="file-upload-hint">PDF, DOC, or DOCX<br>Max 10MB</div>
                                                </label>
                                            </div>
                                            <div id="coverLetterSelected" class="file-selected" style="display: none;">
                                                <span class="file-selected-name" id="coverLetterFileName"></span>
                                                <button type="button" class="file-selected-remove" id="removeCoverLetter">×</button>
                                            </div>
                                        </div>
                                        <div class="error-message" id="coverLetter-error"></div>
                                    </div>
                                </div>
                            </div>

                            <!-- Additional Assessment -->
                            <div class="form-section" id="section-11" data-section="11">
                                <div class="section-header">
                                    <div class="section-number">11</div>
                                    <h3 class="section-title">Additional Assessment</h3>
                                </div>
                                
                                <div class="form-group full-width">
                                    <label for="difficultSituation">Describe a time when you overcame a difficult project or challenging situation at work. What was the situation, how did you handle it, and what was the outcome? <span class="required">*</span></label>
                                    <textarea id="difficultSituation" name="difficultSituation" placeholder="Provide a specific example that demonstrates your problem-solving abilities, resilience, and how you handle challenges. Include details about the situation, your approach, and the results." required maxlength="2000"></textarea>
                                    <div class="char-counter" id="difficultSituation-counter">0 / 2000 characters</div>
                                    <div class="error-message" id="difficultSituation-error"></div>
                                </div>

                                <div class="fit-question">
                                    <label class="fit-question-label">How do you handle high-pressure situations with tight deadlines? <span class="required">*</span></label>
                                    <div class="radio-cards">
                                        <label class="radio-card">
                                            <input type="radio" name="dealWithPressure" value="calm" required>
                                            <div class="radio-card-content">
                                                <div class="radio-card-title">Stay Calm & Prioritize</div>
                                                <div class="radio-card-desc">I maintain composure, assess priorities, and tackle tasks systematically</div>
                                            </div>
                                        </label>
                                        <label class="radio-card">
                                            <input type="radio" name="dealWithPressure" value="energized" required>
                                            <div class="radio-card-content">
                                                <div class="radio-card-title">Thrive Under Pressure</div>
                                                <div class="radio-card-desc">Pressure energizes me and helps me focus on delivering results</div>
                                            </div>
                                        </label>
                                        <label class="radio-card">
                                            <input type="radio" name="dealWithPressure" value="strategic" required>
                                            <div class="radio-card-content">
                                                <div class="radio-card-title">Strategic Problem-Solving</div>
                                                <div class="radio-card-desc">I break down challenges, identify critical path items, and execute efficiently</div>
                                            </div>
                                        </label>
                                    </div>
                                    <div class="error-message" id="dealWithPressure-error"></div>
                                </div>

                                <div class="fit-question">
                                    <label class="fit-question-label">How do you prefer to communicate with senior leadership and clients? <span class="required">*</span></label>
                                    <div class="radio-cards">
                                        <label class="radio-card">
                                            <input type="radio" name="communicationPreference" value="direct" required>
                                            <div class="radio-card-content">
                                                <div class="radio-card-title">Direct & Concise</div>
                                                <div class="radio-card-desc">Get straight to the point with key information</div>
                                            </div>
                                        </label>
                                        <label class="radio-card">
                                            <input type="radio" name="communicationPreference" value="detailed" required>
                                            <div class="radio-card-content">
                                                <div class="radio-card-title">Detailed & Thorough</div>
                                                <div class="radio-card-desc">Provide comprehensive context and background</div>
                                            </div>
                                        </label>
                                        <label class="radio-card">
                                            <input type="radio" name="communicationPreference" value="collaborative" required>
                                            <div class="radio-card-content">
                                                <div class="radio-card-title">Collaborative Discussion</div>
                                                <div class="radio-card-desc">Engage in dialogue to ensure alignment</div>
                                            </div>
                                        </label>
                                    </div>
                                    <div class="error-message" id="communicationPreference-error"></div>
                                </div>

                                <div class="form-group full-width">
                                    <label for="timeManagement">How do you manage multiple deadlines and competing priorities? <span class="required">*</span></label>
                                    <select id="timeManagement" name="timeManagement" required>
                                        <option value="">Select...</option>
                                        <option value="prioritize">Prioritize by urgency and importance, tackle one at a time</option>
                                        <option value="multitask">Multitask efficiently across multiple projects</option>
                                        <option value="plan">Create detailed plans and schedules, track everything systematically</option>
                                        <option value="flexible">Adapt flexibly as priorities shift, communicate changes proactively</option>
                                    </select>
                                    <div class="error-message" id="timeManagement-error"></div>
                                </div>

                                <div class="form-group full-width">
                                    <label for="attentionToDetail">How do you ensure accuracy and attention to detail in your work? <span class="required">*</span></label>
                                    <select id="attentionToDetail" name="attentionToDetail" required>
                                        <option value="">Select...</option>
                                        <option value="double-check">Double-check everything before submitting</option>
                                        <option value="checklists">Use checklists and systematic review processes</option>
                                        <option value="peer-review">Have others review my work when possible</option>
                                        <option value="methodical">Work methodically and carefully from the start</option>
                                    </select>
                                    <div class="error-message" id="attentionToDetail-error"></div>
                                </div>

                                <div class="form-group full-width">
                                    <label for="careerGoals">Where do you see yourself in 2-3 years? How does this role fit into your career goals? <span class="required">*</span></label>
                                    <textarea id="careerGoals" name="careerGoals" placeholder="Describe your career aspirations and how working at Elmwood & Company aligns with your goals" required maxlength="1500"></textarea>
                                    <div class="char-counter" id="careerGoals-counter">0 / 1500 characters</div>
                                    <div class="error-message" id="careerGoals-error"></div>
                                </div>
                            </div>

                            <!-- Design Portfolio -->
                            <div class="form-section" id="section-12" data-section="12">
                                <div class="section-header">
                                    <div class="section-number">12</div>
                                    <h3 class="section-title">Design Portfolio & Work Samples</h3>
                                </div>
                                <div class="form-group full-width">
                                    <label>Upload Design Work / Portfolio Samples (Optional but Recommended)</label>
                                    <p class="field-help-text">Please upload examples of marketing materials, presentations, graphics, or other design work you've created. This could include offering memorandums, property listings, presentations, brochures, or similar professional materials.</p>
                                    <div class="file-upload-wrapper">
                                        <div class="file-upload">
                                            <input type="file" id="portfolio" name="portfolioFiles" accept=".pdf,.doc,.docx,.jpg,.jpeg,.png,.zip" multiple>
                                            <label for="portfolio" class="file-upload-label">
                                                <div class="file-upload-text">Click to upload portfolio files</div>
                                                <div class="file-upload-hint">PDF, DOC, DOCX, JPG, PNG, or ZIP<br>Max 10MB per file • Multiple files allowed</div>
                                            </label>
                                        </div>
                                        <div id="portfolioFiles" class="portfolio-files"></div>
                                    </div>
                                </div>
                            </div>

                            <!-- Video Introduction -->
                            <div class="form-section" id="section-13" data-section="13">
                                <div class="section-header">
                                    <div class="section-number">13</div>
                                    <h3 class="section-title">Video Introduction</h3>
                                </div>
                                <div class="form-group full-width">
                                    <label>Video Introduction (Optional but Recommended)</label>
                                    <div class="video-instructions">
                                        <h4>Video Guidelines</h4>
                                        <ul>
                                            <li><strong>Length:</strong> Keep your video under one minute</li>
                                            <li><strong>Content:</strong> Explain why you believe you would be successful in this role</li>
                                            <li><strong>Focus:</strong> Highlight your relevant experience, skills, and what makes you a strong fit for this position</li>
                                            <li><strong>Quality:</strong> Ensure good lighting and clear audio</li>
                                        </ul>
                                    </div>

                                    <!-- Video Recording Options -->
                                    <div class="video-recording-container">
                                        <div class="video-recording-options">
                                            <button type="button" class="video-option-btn" id="recordOption" onclick="switchToRecord()">
                                                <span class="video-option-icon">●</span>
                                                <span class="video-option-text">Record Video</span>
                                            </button>
                                            <button type="button" class="video-option-btn active" id="uploadOption" onclick="switchToUpload()">
                                                <span class="video-option-icon">↑</span>
                                                <span class="video-option-text">Upload Video</span>
                                            </button>
                                        </div>

                                        <!-- Upload Option -->
                                        <div id="uploadSection" class="file-upload-wrapper">
                                            <div class="file-upload">
                                                <input type="file" id="video1" name="video1" accept="video/*">
                                                <label for="video1" class="file-upload-label">
                                                    <div class="file-upload-text">Click to upload video</div>
                                                    <div class="file-upload-hint">Maximum file size: 100MB<br>Supported formats: MP4, MOV, AVI, WMV, WEBM</div>
                                                </label>
                                            </div>
                                            <div id="fileSelected" class="file-selected" style="display: none;">
                                                <span class="file-selected-name" id="fileName"></span>
                                                <button type="button" class="file-selected-remove" id="removeFile">×</button>
                                            </div>
                                        </div>

                                        <!-- Record Option -->
                                        <div id="recordSection" class="video-preview-container" style="display: none;">
                                            <div class="video-preview-wrapper">
                                                <video id="videoPreview" class="video-preview" autoplay muted playsinline></video>
                                                <div class="video-overlay" id="videoOverlay" style="display: none;">
                                                    <div class="video-loading">
                                                        <div class="spinner-large"></div>
                                                        <p>Initializing camera...</p>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="recording-controls">
                                                <div class="recording-controls-primary">
                                                    <button type="button" class="btn btn-primary btn-record" id="startRecordBtn" onclick="startRecording()">
                                                        <span class="btn-icon">●</span>
                                                        <span>Start Recording</span>
                                                    </button>
                                                    <button type="button" class="btn btn-danger btn-record" id="stopRecordBtn" onclick="stopRecording()" style="display: none;">
                                                        <span class="btn-icon">■</span>
                                                        <span>Stop Recording</span>
                                                    </button>
                                                    <div class="recording-timer-wrapper" id="recordingTimerWrapper" style="display: none;">
                                                        <div class="recording-indicator"></div>
                                                        <div class="recording-timer" id="recordingTimer">00:00</div>
                                                    </div>
                                                </div>
                                                <div class="recording-controls-secondary" id="recordingControlsSecondary" style="display: none;">
                                                    <button type="button" class="btn btn-success" id="useRecordBtn" onclick="useRecordedVideo()">
                                                        <span>Use This Video</span>
                                                    </button>
                                                    <button type="button" class="btn btn-secondary" id="retryRecordBtn" onclick="retryRecording()">
                                                        <span>Record Again</span>
                                                    </button>
                                                </div>
                                            </div>
                                            <div id="recordingStatus" class="recording-status" style="display: none;"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="submit-section">
                                <button type="submit" class="submit-btn" id="submitBtn">
                                    Submit Application
                                </button>
                            </div>
                        </form>
                    </div>

                    <div class="footer">
                        <div class="footer-content">
                            <div class="footer-section">
                                <h4>Contact</h4>
                                <p>Questions about this position or the application process?</p>
                                <p>Email: <strong>careers@elmwood.co</strong></p>
                            </div>
                            
                            <div class="disclaimer-box">
                                <p><strong>Equal Opportunity Employer:</strong> Elmwood & Company is an equal opportunity employer. We consider all qualified applicants for employment without regard to race, color, religion, sex, sexual orientation, gender identity, national origin, age, disability, or any other protected status.</p>
                                
                                <p style="margin-top: 12px;"><strong>Data Privacy & Collection:</strong> By submitting this application, you consent to the collection, processing, and storage of your personal information, including but not limited to your name, contact information, resume, cover letter, video submissions, and responses to application questions. This information will be used solely for recruitment and hiring purposes. Your data will be kept confidential and will not be shared with third parties except as necessary for the recruitment process.</p>
                                
                                <p style="margin-top: 12px;"><strong>Application Acknowledgment:</strong> You acknowledge that all information provided in this application is true and accurate to the best of your knowledge. Any misrepresentation or omission of material facts may result in disqualification from consideration or termination of employment if discovered after hiring.</p>
                                
                                <p style="margin-top: 12px;"><strong>No Guarantee of Employment:</strong> Submission of this application does not guarantee employment or create any contractual obligation. Elmwood & Company reserves the right to reject any application, discontinue the recruitment process, or modify job requirements at any time.</p>
                            </div>
                            
                            <div class="footer-links">
                                <a href="mailto:careers@elmwood.co">Contact</a>
                                <span>•</span>
                                <span style="color: var(--text-light);">© 2024 Elmwood & Company. All rights reserved.</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Auto-save Indicator -->
    <div class="save-indicator" id="saveIndicator"></div>

    <script>
        // Toggle job description on mobile
        function toggleJobDescription() {
            const toggles = document.querySelectorAll('.job-description-toggle');
            const contents = document.querySelectorAll('.job-description-content');
            const jobToggle = toggles[toggles.length - 1]; // Last toggle is for job description
            const jobContent = contents[contents.length - 1]; // Last content is for job description
            
            if (jobContent && jobToggle) {
                if (jobContent.classList.contains('collapsed')) {
                    jobContent.classList.remove('collapsed');
                    jobToggle.textContent = 'Hide Job Details';
                    jobToggle.classList.remove('collapsed');
                } else {
                    jobContent.classList.add('collapsed');
                    jobToggle.textContent = 'View Job Details';
                    jobToggle.classList.add('collapsed');
                }
            }
        }

        // Toggle company details on mobile
        function toggleCompanyDetails() {
            const toggles = document.querySelectorAll('.job-description-toggle');
            const contents = document.querySelectorAll('.company-content');
            const companyToggle = toggles[0]; // First toggle is for company
            const companyContent = contents[0]; // First content is for company
            
            if (companyContent && companyToggle) {
                if (companyContent.classList.contains('collapsed')) {
                    companyContent.classList.remove('collapsed');
                    companyToggle.textContent = 'Hide Company Details';
                    companyToggle.classList.remove('collapsed');
                } else {
                    companyContent.classList.add('collapsed');
                    companyToggle.textContent = 'View Company Details';
                    companyToggle.classList.add('collapsed');
                }
            }
        }

        // Toggle navigation sidebar on mobile
        function toggleNavSidebar() {
            const sidebar = document.getElementById('navSidebar');
            if (sidebar) {
                sidebar.classList.toggle('collapsed');
            }
        }

        // Video Recording Functions
        let mediaRecorder = null;
        let recordedChunks = [];
        let recordedBlob = null;
        let recordingStream = null;
        let recordingTimerInterval = null;
        let recordingStartTime = null;
        let globalShowMessage = null; // Will be set in DOMContentLoaded

        function switchToRecord() {
            document.getElementById('recordOption').classList.add('active');
            document.getElementById('uploadOption').classList.remove('active');
            document.getElementById('uploadSection').style.display = 'none';
            document.getElementById('recordSection').style.display = 'block';
            document.getElementById('recordSection').classList.add('active');
            
            // Clear any uploaded file
            const videoInput = document.getElementById('video1');
            if (videoInput) videoInput.value = '';
            const fileSelected = document.getElementById('fileSelected');
            if (fileSelected) fileSelected.style.display = 'none';
            
            initializeCamera();
        }

        function switchToUpload() {
            document.getElementById('uploadOption').classList.add('active');
            document.getElementById('recordOption').classList.remove('active');
            document.getElementById('recordSection').style.display = 'none';
            document.getElementById('uploadSection').style.display = 'block';
            
            // Stop camera if recording
            stopCamera();
        }

        async function initializeCamera() {
            const videoOverlay = document.getElementById('videoOverlay');
            const videoPreview = document.getElementById('videoPreview');
            const startBtn = document.getElementById('startRecordBtn');
            const statusDiv = document.getElementById('recordingStatus');
            
            try {
                // Show loading state
                if (videoOverlay) videoOverlay.style.display = 'flex';
                if (startBtn) startBtn.style.display = 'none';
                if (statusDiv) {
                    statusDiv.textContent = 'Requesting camera access...';
                    statusDiv.className = 'recording-status';
                    statusDiv.style.display = 'block';
                }
                
                const stream = await navigator.mediaDevices.getUserMedia({ 
                    video: { 
                        width: { ideal: 1280 },
                        height: { ideal: 720 },
                        facingMode: 'user'
                    }, 
                    audio: true 
                });
                
                recordingStream = stream;
                
                if (videoPreview) {
                    videoPreview.srcObject = stream;
                    videoPreview.onloadedmetadata = () => {
                        if (videoOverlay) videoOverlay.style.display = 'none';
                        if (startBtn) startBtn.style.display = 'flex';
                        if (statusDiv) statusDiv.style.display = 'none';
                    };
                } else {
                    if (videoOverlay) videoOverlay.style.display = 'none';
                    if (startBtn) startBtn.style.display = 'flex';
                }
            } catch (error) {
                console.error('Error accessing camera:', error);
                if (videoOverlay) videoOverlay.style.display = 'none';
                
                let errorMsg = 'Unable to access camera. ';
                if (error.name === 'NotAllowedError' || error.name === 'PermissionDeniedError') {
                    errorMsg += 'Please allow camera and microphone permissions in your browser settings.';
                } else if (error.name === 'NotFoundError' || error.name === 'DevicesNotFoundError') {
                    errorMsg += 'No camera found. Please connect a camera or use the upload option.';
                } else {
                    errorMsg += 'Please check your camera settings and try again, or use the upload option.';
                }
                
                if (statusDiv) {
                    statusDiv.textContent = errorMsg;
                    statusDiv.className = 'recording-status error';
                    statusDiv.style.display = 'block';
                }
                
                if (globalShowMessage) {
                    globalShowMessage(errorMsg, 'error');
                }
                
                // Auto-switch to upload after 3 seconds
                setTimeout(() => {
                    switchToUpload();
                }, 3000);
            }
        }

        function startRecording() {
            if (!recordingStream) {
                initializeCamera();
                return;
            }

            recordedChunks = [];
            const options = { mimeType: 'video/webm;codecs=vp9,opus' };
            
            try {
                mediaRecorder = new MediaRecorder(recordingStream, options);
            } catch (e) {
                // Fallback to default
                mediaRecorder = new MediaRecorder(recordingStream);
            }

            mediaRecorder.ondataavailable = (event) => {
                if (event.data.size > 0) {
                    recordedChunks.push(event.data);
                }
            };

            mediaRecorder.onstop = () => {
                recordedBlob = new Blob(recordedChunks, { type: 'video/webm' });
                const videoPreview = document.getElementById('videoPreview');
                const stopBtn = document.getElementById('stopRecordBtn');
                const useBtn = document.getElementById('useRecordBtn');
                const retryBtn = document.getElementById('retryRecordBtn');
                const timerWrapper = document.getElementById('recordingTimerWrapper');
                const statusDiv = document.getElementById('recordingStatus');
                const controlsSecondary = document.getElementById('recordingControlsSecondary');
                
                if (videoPreview) {
                    videoPreview.srcObject = null;
                    const videoUrl = URL.createObjectURL(recordedBlob);
                    videoPreview.src = videoUrl;
                    videoPreview.controls = true;
                    videoPreview.muted = false;
                }
                
                if (stopBtn) stopBtn.style.display = 'none';
                if (timerWrapper) timerWrapper.style.display = 'none';
                if (controlsSecondary) controlsSecondary.style.display = 'flex';
                if (useBtn) useBtn.style.display = 'inline-flex';
                if (retryBtn) retryBtn.style.display = 'inline-flex';
                
                if (statusDiv) {
                    statusDiv.textContent = 'Recording complete. Review your video below.';
                    statusDiv.className = 'recording-status stopped';
                    statusDiv.style.display = 'block';
                }
            };

            mediaRecorder.start();
            recordingStartTime = Date.now();
            
            const startBtn = document.getElementById('startRecordBtn');
            const stopBtn = document.getElementById('stopRecordBtn');
            const timerWrapper = document.getElementById('recordingTimerWrapper');
            const statusDiv = document.getElementById('recordingStatus');
            const controlsSecondary = document.getElementById('recordingControlsSecondary');
            
            if (startBtn) startBtn.style.display = 'none';
            if (stopBtn) stopBtn.style.display = 'flex';
            if (stopBtn) stopBtn.classList.add('recording');
            if (timerWrapper) timerWrapper.style.display = 'flex';
            if (controlsSecondary) controlsSecondary.style.display = 'none';
            if (statusDiv) {
                statusDiv.textContent = 'Recording in progress...';
                statusDiv.className = 'recording-status recording';
                statusDiv.style.display = 'block';
            }

            // Start timer
            recordingTimerInterval = setInterval(() => {
                const elapsed = Math.floor((Date.now() - recordingStartTime) / 1000);
                const minutes = Math.floor(elapsed / 60);
                const seconds = elapsed % 60;
                document.getElementById('recordingTimer').textContent = 
                    `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
                
                // Warn at 60 seconds
                if (elapsed >= 60) {
                    document.getElementById('recordingStatus').textContent = '⚠️ Recording over 1 minute. Please keep it under 1 minute.';
                }
            }, 1000);
        }

        function stopRecording() {
            if (mediaRecorder && mediaRecorder.state !== 'inactive') {
                mediaRecorder.stop();
                recordingStream.getTracks().forEach(track => track.stop());
            }
            
            if (recordingTimerInterval) {
                clearInterval(recordingTimerInterval);
                recordingTimerInterval = null;
            }
            
            const stopBtn = document.getElementById('stopRecordBtn');
            if (stopBtn) stopBtn.classList.remove('recording');
        }

        function useRecordedVideo() {
            if (!recordedBlob) {
                if (globalShowMessage) {
                    globalShowMessage('No video recorded. Please record a video first.', 'error');
                } else {
                    alert('No video recorded. Please record a video first.');
                }
                return;
            }

            // Convert blob to file
            const file = new File([recordedBlob], `video-${Date.now()}.webm`, { type: 'video/webm' });
            
            // Create a FileList-like object and assign to input
            const dataTransfer = new DataTransfer();
            dataTransfer.items.add(file);
            const videoInput = document.getElementById('video1');
            videoInput.files = dataTransfer.files;

            // Show file selected
            const fileSelected = document.getElementById('fileSelected');
            const fileName = document.getElementById('fileName');
            if (fileSelected && fileName) {
                fileName.textContent = file.name;
                fileSelected.style.display = 'flex';
            }

            // Switch to upload view to show the file
            switchToUpload();
            if (globalShowMessage) {
                globalShowMessage('Video recorded successfully! You can review it in the upload section.', 'success');
            }
            
            // Update progress and auto-save
            if (window.updateProgress) {
                window.updateProgress();
            }
            if (window.autoSave) {
                window.autoSave();
            }
        }

        function retryRecording() {
            recordedBlob = null;
            recordedChunks = [];
            
            const videoPreview = document.getElementById('videoPreview');
            const useBtn = document.getElementById('useRecordBtn');
            const retryBtn = document.getElementById('retryRecordBtn');
            const statusDiv = document.getElementById('recordingStatus');
            const controlsSecondary = document.getElementById('recordingControlsSecondary');
            
            if (videoPreview) {
                videoPreview.src = '';
                videoPreview.controls = false;
            }
            
            if (useBtn) useBtn.style.display = 'none';
            if (retryBtn) retryBtn.style.display = 'none';
            if (controlsSecondary) controlsSecondary.style.display = 'none';
            if (statusDiv) statusDiv.style.display = 'none';
            
            initializeCamera();
        }

        function stopCamera() {
            if (recordingStream) {
                recordingStream.getTracks().forEach(track => track.stop());
                recordingStream = null;
            }
            if (mediaRecorder && mediaRecorder.state !== 'inactive') {
                mediaRecorder.stop();
            }
            if (recordingTimerInterval) {
                clearInterval(recordingTimerInterval);
                recordingTimerInterval = null;
            }
            
            const videoPreview = document.getElementById('videoPreview');
            if (videoPreview) {
                videoPreview.srcObject = null;
                videoPreview.src = '';
            }
        }

        // Clean up camera on page unload
        window.addEventListener('beforeunload', stopCamera);

        // Initialize sections as collapsed on mobile
        window.addEventListener('load', function() {
            if (window.innerWidth <= 768) {
                // Collapse job description sections
                const contents = document.querySelectorAll('.job-description-content');
                const toggles = document.querySelectorAll('.job-description-toggle');
                contents.forEach((content, index) => {
                    if (content && toggles[index]) {
                        content.classList.add('collapsed');
                        toggles[index].classList.add('collapsed');
                    }
                });
                
                // Collapse navigation sidebar by default on mobile
                const navSidebar = document.getElementById('navSidebar');
                if (navSidebar) {
                    navSidebar.classList.add('collapsed');
                }
            }
        });

        document.addEventListener('DOMContentLoaded', function() {
            const form = document.getElementById('applicationForm');
            const messageDiv = document.getElementById('message');
            const submitBtn = document.getElementById('submitBtn');
            const progressFill = document.getElementById('progressFill');
            const progressPercentage = document.getElementById('progressPercentage');
            const saveIndicator = document.getElementById('saveIndicator');
            const navList = document.getElementById('navList');

            // Make showMessage globally accessible for video recording
            globalShowMessage = function(text, type) {
                messageDiv.textContent = text;
                messageDiv.className = `message ${type}`;
                messageDiv.style.display = 'block';
                messageDiv.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
            };

            // Section navigation
            const sections = [
                { id: 1, title: 'Personal Information' },
                { id: 2, title: 'Education' },
                { id: 3, title: 'Professional Experience' },
                { id: 4, title: 'Technical Skills' },
                { id: 5, title: 'Availability' },
                { id: 6, title: 'Communication' },
                { id: 7, title: 'Technical Infrastructure' },
                { id: 8, title: 'Compensation' },
                { id: 9, title: 'Role-Specific Experience' },
                { id: 10, title: 'Documents' },
                { id: 11, title: 'Additional Assessment' },
                { id: 12, title: 'Design Portfolio' },
                { id: 13, title: 'Video Introduction' }
            ];

            // Build navigation
            sections.forEach(section => {
                const li = document.createElement('li');
                li.className = 'nav-item';
                const a = document.createElement('a');
                a.href = `#section-${section.id}`;
                a.className = 'nav-link';
                a.textContent = `${section.id}. ${section.title}`;
                a.addEventListener('click', (e) => {
                    e.preventDefault();
                    document.getElementById(`section-${section.id}`).scrollIntoView({ behavior: 'smooth', block: 'start' });
                });
                li.appendChild(a);
                navList.appendChild(li);
            });

            // Make updateProgress and autoSave globally accessible
            window.updateProgress = function() {
                const requiredFields = form.querySelectorAll('[required]');
                const filledFields = Array.from(requiredFields).filter(field => {
                    if (field.type === 'checkbox' || field.type === 'radio') {
                        const name = field.name;
                        return form.querySelector(`[name="${name}"]:checked`);
                    }
                    if (field.type === 'file') {
                        return field.files && field.files.length > 0;
                    }
                    return field.value.trim() !== '';
                });
                
                const progress = Math.round((filledFields.length / requiredFields.length) * 100);
                progressFill.style.width = progress + '%';
                progressPercentage.textContent = progress + '%';

                // Update nav links
                sections.forEach(section => {
                    const sectionEl = document.getElementById(`section-${section.id}`);
                    const navLink = navList.querySelector(`a[href="#section-${section.id}"]`);
                    if (sectionEl) {
                        const sectionFields = sectionEl.querySelectorAll('[required]');
                        const sectionFilled = Array.from(sectionFields).filter(field => {
                            if (field.type === 'checkbox' || field.type === 'radio') {
                                const name = field.name;
                                return form.querySelector(`[name="${name}"]:checked`);
                            }
                            if (field.type === 'file') {
                                return field.files && field.files.length > 0;
                            }
                            return field.value.trim() !== '';
                        });
                        if (sectionFilled.length === sectionFields.length && sectionFields.length > 0) {
                            navLink.classList.add('completed');
                        } else {
                            navLink.classList.remove('completed');
                        }
                    }
                });
            }

            // Character counters
            const textareas = form.querySelectorAll('textarea[maxlength]');
            textareas.forEach(textarea => {
                const maxLength = parseInt(textarea.getAttribute('maxlength'));
                const counter = document.getElementById(textarea.id + '-counter');
                if (counter) {
                    function updateCounter() {
                        const length = textarea.value.length;
                        const remaining = maxLength - length;
                        counter.textContent = `${length} / ${maxLength} characters${remaining < 100 ? ` (${remaining} remaining)` : ''}`;
                        counter.classList.remove('warning', 'error');
                        if (length > maxLength * 0.9) {
                            counter.classList.add('warning');
                        }
                        if (length >= maxLength) {
                            counter.classList.add('error');
                        }
                    }
                    textarea.addEventListener('input', updateCounter);
                    updateCounter();
                }
            });

            // Auto-save to localStorage
            let saveTimeout;
            window.autoSave = function() {
                clearTimeout(saveTimeout);
                saveIndicator.textContent = 'Saving...';
                saveIndicator.className = 'save-indicator show saving';
                
                saveTimeout = setTimeout(() => {
                    const formData = new FormData(form);
                    const data = {};
                    for (let [key, value] of formData.entries()) {
                        if (data[key]) {
                            if (Array.isArray(data[key])) {
                                data[key].push(value);
                            } else {
                                data[key] = [data[key], value];
                            }
                        } else {
                            data[key] = value;
                        }
                    }
                    localStorage.setItem('applicationDraft', JSON.stringify(data));
                    saveIndicator.textContent = 'Draft saved';
                    saveIndicator.className = 'save-indicator show saved';
                    setTimeout(() => {
                        saveIndicator.classList.remove('show');
                    }, 2000);
                }, 1000);
            }

            // Load draft
            const draft = localStorage.getItem('applicationDraft');
            if (draft) {
                try {
                    const data = JSON.parse(draft);
                    Object.keys(data).forEach(key => {
                        const field = form.querySelector(`[name="${key}"]`);
                        if (field) {
                            if (field.type === 'checkbox' || field.type === 'radio') {
                                if (Array.isArray(data[key])) {
                                    data[key].forEach(val => {
                                        const option = form.querySelector(`[name="${key}"][value="${val}"]`);
                                        if (option) option.checked = true;
                                    });
                                } else {
                                    const option = form.querySelector(`[name="${key}"][value="${data[key]}"]`);
                                    if (option) option.checked = true;
                                }
                            } else if (field.type !== 'file') {
                                field.value = data[key];
                            }
                        }
                    });
                    updateProgress();
                } catch (e) {
                    console.error('Error loading draft:', e);
                }
            }

            // Form validation
            function validateField(field) {
                const errorEl = document.getElementById(field.id + '-error');
                if (!field.checkValidity()) {
                    field.classList.add('error');
                    if (errorEl) {
                        let message = field.validationMessage;
                        // Customize validation messages
                        if (field.validity.valueMissing) {
                            message = 'This field is required';
                        } else if (field.validity.typeMismatch) {
                            if (field.type === 'email') {
                                message = 'Please enter a valid email address';
                            }
                        } else if (field.validity.tooLong) {
                            message = `Maximum ${field.maxLength} characters allowed`;
                        }
                        errorEl.textContent = message;
                        errorEl.classList.add('show');
                    }
                    return false;
                } else {
                    field.classList.remove('error');
                    if (errorEl) {
                        errorEl.classList.remove('show');
                        errorEl.textContent = '';
                    }
                    return true;
                }
            }

            // Real-time validation
            form.querySelectorAll('input, select, textarea').forEach(field => {
                field.addEventListener('blur', () => {
                    validateField(field);
                    updateProgress();
                });
                field.addEventListener('input', () => {
                    if (field.classList.contains('error')) {
                        validateField(field);
                    }
                    updateProgress();
                    autoSave();
                });
                field.addEventListener('change', () => {
                    validateField(field);
                    updateProgress();
                    autoSave();
                });
            });

            // Show/hide real estate experience section based on CRE experience
            const creExperienceSelect = document.getElementById('creExperience');
            const realEstateSection = document.getElementById('realEstateExperienceSection');
            const transferableSection = document.getElementById('transferableExperienceSection');
            
            if (creExperienceSelect && realEstateSection && transferableSection) {
                creExperienceSelect.addEventListener('change', function() {
                    if (this.value === 'none' || this.value === '') {
                        realEstateSection.style.display = 'none';
                        transferableSection.style.display = 'block';
                        document.getElementById('transactionExperience').removeAttribute('required');
                        document.getElementById('transferableExperience').setAttribute('required', 'required');
                    } else {
                        realEstateSection.style.display = 'block';
                        transferableSection.style.display = 'none';
                        document.getElementById('transactionExperience').setAttribute('required', 'required');
                        document.getElementById('transferableExperience').removeAttribute('required');
                    }
                });
            }

            // File upload handlers
            const videoInput = document.getElementById('video1');
            const resumeInput = document.getElementById('resume');
            const coverLetterInput = document.getElementById('coverLetter');
            const portfolioInput = document.getElementById('portfolio');
            const fileSelected = document.getElementById('fileSelected');
            const resumeSelected = document.getElementById('resumeSelected');
            const coverLetterSelected = document.getElementById('coverLetterSelected');
            const portfolioFiles = document.getElementById('portfolioFiles');
            const fileName = document.getElementById('fileName');
            const resumeFileName = document.getElementById('resumeFileName');
            const coverLetterFileName = document.getElementById('coverLetterFileName');
            const removeFile = document.getElementById('removeFile');
            const removeResume = document.getElementById('removeResume');
            const removeCoverLetter = document.getElementById('removeCoverLetter');

            function setupFileUpload(input, selectedDiv, fileNameEl, removeBtn, maxSize, fileType) {
                if (!input) return;
                
                input.addEventListener('change', (e) => {
                    const file = e.target.files[0];
                    if (file) {
                        if (file.size > maxSize) {
                            showMessage(`File "${file.name}" is too large. Maximum size is ${maxSize / (1024 * 1024)}MB.`, 'error');
                            e.target.value = '';
                            selectedDiv.style.display = 'none';
                        } else {
                            fileNameEl.textContent = file.name;
                            selectedDiv.style.display = 'flex';
                            updateProgress();
                            autoSave();
                        }
                    } else {
                        selectedDiv.style.display = 'none';
                    }
                });

                if (removeBtn) {
                    removeBtn.addEventListener('click', (e) => {
                        e.preventDefault();
                        input.value = '';
                        selectedDiv.style.display = 'none';
                        updateProgress();
                        autoSave();
                    });
                }
            }

            setupFileUpload(videoInput, fileSelected, fileName, removeFile, 100 * 1024 * 1024, 'video');
            setupFileUpload(resumeInput, resumeSelected, resumeFileName, removeResume, 10 * 1024 * 1024, 'document');
            setupFileUpload(coverLetterInput, coverLetterSelected, coverLetterFileName, removeCoverLetter, 10 * 1024 * 1024, 'document');

            // Portfolio files (multiple files)
            if (portfolioInput) {
                portfolioInput.addEventListener('change', (e) => {
                    const files = Array.from(e.target.files);
                    portfolioFiles.innerHTML = '';
                    
                    files.forEach((file, index) => {
                        const maxSize = 10 * 1024 * 1024; // 10MB
                        if (file.size > maxSize) {
                            showMessage(`File "${file.name}" is too large. Maximum size is 10MB.`, 'error');
                            return;
                        }
                        
                        const fileItem = document.createElement('div');
                        fileItem.className = 'portfolio-file-item';
                        fileItem.innerHTML = `
                            <span class="portfolio-file-name">${file.name}</span>
                            <button type="button" class="portfolio-file-remove" data-index="${index}">×</button>
                        `;
                        portfolioFiles.appendChild(fileItem);
                    });
                    autoSave();
                });

                portfolioFiles.addEventListener('click', (e) => {
                    if (e.target.classList.contains('portfolio-file-remove')) {
                        const index = parseInt(e.target.getAttribute('data-index'));
                        const dt = new DataTransfer();
                        const files = Array.from(portfolioInput.files);
                        files.splice(index, 1);
                        files.forEach(file => dt.items.add(file));
                        portfolioInput.files = dt.files;
                        portfolioInput.dispatchEvent(new Event('change'));
                    }
                });
            }

            function showMessage(text, type) {
                messageDiv.textContent = text;
                messageDiv.className = `message ${type}`;
                messageDiv.style.display = 'block';
                messageDiv.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
            }

            // Active section tracking with animations
            const observerOptions = {
                root: null,
                rootMargin: '-20% 0px -70% 0px',
                threshold: 0
            };

            const sectionObserver = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('visible');
                        const sectionId = entry.target.id;
                        navList.querySelectorAll('.nav-link').forEach(link => {
                            link.classList.remove('active');
                            if (link.getAttribute('href') === `#${sectionId}`) {
                                link.classList.add('active');
                            }
                        });
                    }
                });
            }, observerOptions);

            document.querySelectorAll('.form-section').forEach(section => {
                sectionObserver.observe(section);
            });

            // Fade in sections on scroll with stagger
            const fadeObserver = new IntersectionObserver((entries) => {
                entries.forEach((entry, index) => {
                    if (entry.isIntersecting) {
                        setTimeout(() => {
                            entry.target.classList.add('visible');
                        }, index * 50);
                    }
                });
            }, {
                threshold: 0.1,
                rootMargin: '0px 0px -100px 0px'
            });

            document.querySelectorAll('.form-section').forEach(section => {
                fadeObserver.observe(section);
            });

            // Smooth scroll for navigation
            navList.querySelectorAll('.nav-link').forEach(link => {
                link.addEventListener('click', (e) => {
                    e.preventDefault();
                    const targetId = link.getAttribute('href');
                    const targetSection = document.querySelector(targetId);
                    if (targetSection) {
                        // Close nav sidebar on mobile after clicking
                        if (window.innerWidth <= 768) {
                            const navSidebar = document.getElementById('navSidebar');
                            if (navSidebar) {
                                navSidebar.classList.add('collapsed');
                            }
                        }
                        
                        const offset = window.innerWidth <= 768 ? 140 : 100;
                        const targetPosition = targetSection.getBoundingClientRect().top + window.pageYOffset - offset;
                        window.scrollTo({
                            top: targetPosition,
                            behavior: 'smooth'
                        });
                    }
                });
            });

            // Form submission
            form.addEventListener('submit', async (e) => {
                e.preventDefault();
                
                // Validate all fields
                let isValid = true;
                form.querySelectorAll('[required]').forEach(field => {
                    if (!validateField(field)) {
                        isValid = false;
                    }
                });

                // Check design tools
                const designTools = form.querySelectorAll('[name="designTools"]:checked');
                if (designTools.length === 0) {
                    const errorEl = document.getElementById('designTools-error');
                    if (errorEl) {
                        errorEl.textContent = 'Please select at least one design tool';
                        errorEl.classList.add('show');
                    }
                    isValid = false;
                }

                if (!isValid) {
                    showMessage('Please complete all required fields before submitting.', 'error');
                    const firstError = form.querySelector('.error');
                    if (firstError) {
                        firstError.scrollIntoView({ behavior: 'smooth', block: 'center' });
                        firstError.focus();
                    }
                    return;
                }
                
                submitBtn.disabled = true;
                submitBtn.classList.add('loading');
                submitBtn.innerHTML = '<span class="spinner"></span> Submitting Application...';
                
                // Show upload progress
                showMessage('Uploading files and submitting your application...', 'info');

                const formData = new FormData(form);

                try {
                    const response = await fetch('/api/submit-application', {
                        method: 'POST',
                        body: formData
                    });

                    const data = await response.json();

                    if (data.success) {
                        localStorage.removeItem('applicationDraft');
                        // Redirect to success page
                        window.location.href = `/success.html?id=${data.applicationId}`;
                    } else {
                        showMessage(data.message || 'We encountered an error processing your application. Please try again or contact zac@elmwood.co for assistance.', 'error');
                        submitBtn.disabled = false;
                        submitBtn.classList.remove('loading');
                        submitBtn.textContent = 'Submit Application';
                    }
                } catch (error) {
                    showMessage('Network error. Please check your connection and try again.', 'error');
                    console.error('Error:', error);
                } finally {
                    submitBtn.disabled = false;
                    submitBtn.classList.remove('loading');
                    submitBtn.textContent = 'Submit Application';
                }
            });

            // Initial progress update
            updateProgress();
        });
    </script>
</body>
</html>
